{"version":3,"file":"static/js/24227.fb328d32.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/chunks/Viewshed.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/LocalFromScreenSpace.glsl.js","../node_modules/@arcgis/core/analysis/Viewshed.js","../node_modules/@arcgis/core/analysis/featureReferenceUtils.js","../node_modules/@arcgis/core/views/interactive/ToolIntersector.js","../node_modules/@arcgis/core/views/analysis/AnalysisView.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedConfiguration.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedComputedData.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedFieldOfViewManipulation.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedArrowManipulator.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedScaleOrientManipulation.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolManipulatorUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedSubTool.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedTool.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedShapeVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedSubVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedVisualization.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ViewshedFaceCamera.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ViewshedShadowMap.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ViewshedTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Viewshed.js","../node_modules/@arcgis/core/views/3d/analysis/ViewshedAnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolConfig.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as s}from\"tslib\";import\"../../../core/Logger.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import\"../../../core/Error.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView as o}from\"../../analysis/AnalysisView.js\";let e=class extends o{};e=s([r(\"esri.views.3d.analysis.AnalysisView3D\")],e);export{e as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{watch as s,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let o=class extends i{constructor(e){super(e)}initialize(){this.addHandles(s(()=>this.analysisViewData.visible,e=>this.visible=e,t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};o=e([r(\"esri.views.interactive.AnalysisToolBase\")],o);export{o as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{handlesGroup as t}from\"../../core/handleUtils.js\";import{removeMaybe as e}from\"../../core/maybe.js\";import{throwIfAborted as n,isAbortError as i,onAbort as a}from\"../../core/promiseUtils.js\";import{watch as r,syncAndInitial as s,on as l,whenOnce as c}from\"../../core/reactiveUtils.js\";function u(t,n){t.interactive=!0;const{tool:i,view:r}=t;r.activeTool=i;let s=a(n,()=>{r.activeTool===i&&(r.activeTool=null)});return o(async o=>{await c(()=>!t.tool?.active,o),s=e(s)},n)}function m(o,t){return r(()=>o.interactive,()=>p(o,t),s)}function p(o,t){o.interactive?v(o,t):f(o)}function v(o,t){f(o);const{view:e,analysis:n}=o,i=new t({view:e,analysis:n,analysisViewData:o});return o.tool=i,e.tools.add(i),i}function f(o){const{view:t,tool:e}=o;null!=e&&(t.tools.remove(e),o.tool=null)}function y(e,a){const r=e.userOperation,s=o(async o=>{if(r){const t=r.promise.catch(()=>{});r?.abort(),await t,n(o)}const s=u(e,{signal:o}),c=a?.shouldRejectOnCancel??(()=>!0),m=t([l(()=>e.tool,\"cancel\",()=>{c()&&s.abort()})]),{tool:p}=e;try{p&&(p.resetCreated(),a?.onToolActivated?.(p)),await s.promise,n(o)}catch(v){if(o.aborted||!i(v)||c())throw v}finally{m?.remove()}},{signal:a?.abortOptions?.signal});return e.userOperation=s,s.promise.finally(()=>{e.userOperation===s&&(e.userOperation=null)})}async function d(o,t){const e=o.analysis.clone();return await y(o,{abortOptions:t?.placementOptions,onToolActivated:t?.onToolActivated,shouldRejectOnCancel:()=>{const{analysis:t}=o;return!t.valid||t.equals(e)}}),{}}export{u as activateAnalysisViewTool,m as connectAnalysisViewToTool,f as removeAnalysisViewTool,y as startExclusiveInteractiveOperation,d as startPlaceOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{invertOrIdentity as e}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as o}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{ScreenSpacePass as t}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{ReadDepth as s}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js\";import{PiUtils as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js\";import{LocalFromScreenSpacePassParameters as r,localFromScreenSpace as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/LocalFromScreenSpace.glsl.js\";import{Float2PassUniform as d}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float3PassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{FloatPassUniform as h}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{FloatsPassUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/FloatsPassUniform.js\";import{glsl as c}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as w}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Matrix4BindUniform as f}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js\";import{Matrix4sPassUniform as p}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4sPassUniform.js\";import{Texture2DBindUniform as m}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DBindUniform.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as u}from\"../views/webgl/ShaderBuilder.js\";class x extends r{constructor(){super(...arguments),this.shadowMap={depthTexture:null,nearFar:[1,100],numActiveFaces:1,atlasRegions:[[0,0,1,1]]},this.targetVector=[1,0,0],this.upVector=[0,0,1],this.fovs=[45,45],this.headingAndTilt=[0,0],this.observerOffset=[0,0,0],this.projectionMatrices=i.flat(),this.viewMatrices=i.flat(),this.volumeOffset=0}}function V(){const i=new u,o=i.fragment;return i.include(t),i.include(n),o.include(s),o.include(a),o.uniforms.add(new m(\"depthTexture\",e=>e.depth?.attachment),new f(\"inverseProjectionMatrix\",e=>e.camera.inverseProjectionMatrix),new f(\"inverseViewNormalMatrix\",({camera:i})=>e(b,i.viewInverseTransposeMatrix)),new l(\"viewshedObserverOffset\",e=>e.observerOffset),new l(\"viewshedTargetVector\",e=>e.targetVector),new l(\"viewshedUpVector\",e=>e.upVector),new d(\"viewshedFOVs\",e=>e.fovs),new d(\"viewshedHeadingAndTilt\",e=>e.headingAndTilt),new d(\"viewshedNearFar\",e=>e.shadowMap.nearFar??[1,100]),new h(\"viewshedVolumeOffset\",e=>e.volumeOffset),new g(\"viewshedShadowMap\",e=>e.shadowMap.depthTexture),new p(\"viewshedProjectionMatrices\",e=>e.projectionMatrices,6),new p(\"viewshedViewMatrices\",e=>e.viewMatrices,6),new w(\"viewshedNumFaces\",e=>e.shadowMap.numActiveFaces),new v(\"viewshedAtlasRegions\",e=>e.shadowMap.atlasRegions.flat(),24),new g(\"normalMap\",e=>e.normals)),o.constants.add(\"visibleColor\",\"vec4\",[0,1,0,.5]),o.constants.add(\"occludedColor\",\"vec4\",[1,0,0,.5]),o.code.add(c`vec2 getViewshedUv(vec4 worldPosition, int face) {\nmat4 viewshedMatrix = viewshedProjectionMatrices[face];\nvec4 viewshedUv4 = viewshedMatrix * worldPosition;\nvec3 viewshedUv = viewshedUv4.xyz / viewshedUv4.w;\nreturn viewshedUv.xy;\n}\nfloat viewshedDepthToFloat(float depth) {\nreturn (depth - viewshedNearFar[0]) / (viewshedNearFar[1] - viewshedNearFar[0]);\n}\nfloat getOrthographicDepthToViewshed(vec4 worldPosition, int face) {\nmat4 viewshedViewMatrix = viewshedViewMatrices[face];\nvec4 viewshedUv4 = viewshedViewMatrix * worldPosition;\nvec3 viewshedUv = viewshedUv4.xyz / viewshedUv4.w;\nfloat depth = -viewshedUv.z;\nreturn viewshedDepthToFloat(depth);\n}\nfloat viewshedReadShadowMapDepth(sampler2D _viewshedShadowmap, ivec2 uv) {\nreturn texelFetch(_viewshedShadowmap, uv, 0).r;\n}\nfloat viewshedFilterShadow(sampler2D _viewshedShadowmap, vec2 uv) {\nvec2 uvScaled = uv * vec2(textureSize(_viewshedShadowmap, 0));\nvec2 st    = fract(uvScaled);\nivec2 base = ivec2(uvScaled);\nfloat s00 = viewshedReadShadowMapDepth( _viewshedShadowmap, ivec2(base.x,     base.y    ));\nfloat s10 = viewshedReadShadowMapDepth( _viewshedShadowmap, ivec2(base.x + 1, base.y    ));\nfloat s11 = viewshedReadShadowMapDepth( _viewshedShadowmap, ivec2(base.x + 1, base.y + 1));\nfloat s01 = viewshedReadShadowMapDepth( _viewshedShadowmap, ivec2(base.x,     base.y + 1));\nreturn mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);\n}\nfloat viewshedTextureAtlasLookup(sampler2D _viewshedShadowmap, vec2 uv, vec4 atlasRegion) {\nvec2 atlasScale = atlasRegion.zw - atlasRegion.xy;\nvec2 uvAtlas = fract(uv) * atlasScale + atlasRegion.xy;\nreturn viewshedFilterShadow(_viewshedShadowmap, uvAtlas);\n}\nfloat getDepthFromShadowMap(vec2 uv, int face) {\nint index = 4 * face;\nfloat umin = viewshedAtlasRegions[index];\nfloat umax = viewshedAtlasRegions[index + 1];\nfloat vmin = viewshedAtlasRegions[index + 2];\nfloat vmax = viewshedAtlasRegions[index + 3];\nvec4 atlasRegion = vec4(umin, vmin, umax, vmax);\nreturn viewshedTextureAtlasLookup(viewshedShadowMap, uv, atlasRegion);\n}\nstruct ViewshedPoint {\nint face;\nvec2 uv;\nbool isWithin;\nfloat orthographicDepth;\n};\nmat3 rotationMatrix(vec3 axis, float angle)\n{\nfloat s = sin(angle);\nfloat c = cos(angle);\nfloat oc = 1.0 - c;\nreturn mat3(\noc * axis.xxz * axis.xyx + vec3(c, axis.zy) * vec3(1., -s, s),\noc * axis.xyy * axis.yyz + vec3(axis.z, c, axis.x) * vec3(s, 1., -s),\noc * axis.zyz * axis.xzz + vec3(axis.yx, c) * vec3(-s, s, 1.)\n);\n}\nfloat distanceToPlane(vec3 position, vec3 normal) {\nreturn dot(position, normal);\n}\nbool outsideViewshed(float distance) {\nreturn distance > -viewshedVolumeOffset;\n}\nbool isWithinViewshed(vec3 position) {\nfloat positionLength = length(position - viewshedObserverOffset);\nfloat farSphereDistance = positionLength - viewshedNearFar[1];\nif (outsideViewshed(farSphereDistance)) { return false; }\nfloat nearSphereDistance = viewshedNearFar[0] - positionLength;\nif (outsideViewshed(nearSphereDistance)) { return false; }\nvec3 westVector = normalize(cross(viewshedUpVector, viewshedTargetVector));\nbool leftOfTarget = distanceToPlane(position, westVector) > 0.0;\nif (viewshedFOVs[0] < TWO_PI) {\nfloat horAngle = viewshedFOVs[0] / 2.0;\nhorAngle = leftOfTarget ? horAngle : -horAngle;\nvec3 sideVector = viewshedTargetVector * rotationMatrix(viewshedUpVector, horAngle);\nbool inFront = distanceToPlane(position, sideVector) > 0.0;\nif (inFront) {\nvec3 sideNormal = cross(viewshedUpVector, sideVector) * (leftOfTarget ? 1. : -1.);\nfloat sideDistance = distanceToPlane(position, normalize(sideNormal));\nif (outsideViewshed(sideDistance)) { return false; }\n} else if (viewshedFOVs[0] < PI) { return false; }\n}\nif (viewshedFOVs[1] < PI) {\nfloat t = dot(viewshedUpVector, position);\nvec3 nProjVector = normalize(position - t * viewshedUpVector);\nfloat heading = acos(clamp(dot(normalize(viewshedTargetVector), nProjVector), -1.0, 1.0));\nheading = leftOfTarget ? heading : -heading;\nbool aboveTarget = distanceToPlane(position, viewshedUpVector) > 0.0;\nfloat verFOV = viewshedFOVs[1] / 2.0;\nverFOV = aboveTarget ? -verFOV : verFOV;\nmat3 rotateByHeading = rotationMatrix(viewshedUpVector, heading);\nvec3 sideVector = viewshedTargetVector * rotationMatrix(westVector, verFOV) * rotateByHeading;\nvec3 leftVector = westVector * rotateByHeading;\nvec3 sideNormal = cross(sideVector, leftVector) * (aboveTarget ? 1. : -1.);\nfloat sideDistance = distanceToPlane(position, normalize(sideNormal));\nif (outsideViewshed(sideDistance)) { return false; }\n}\nreturn true;\n}\nbool getViewshedPoint(vec4 localPosition, out ViewshedPoint point) {\nfor(int i=0; i < viewshedNumFaces; i++) {\nvec2 viewshedUv = getViewshedUv(localPosition, i);\nif (viewshedUv.x > 0. && viewshedUv.x < 1. && viewshedUv.y > 0. && viewshedUv.y < 1.) {\nfloat orthoDepth = getOrthographicDepthToViewshed(localPosition, i);\nif (orthoDepth >= 0.) {\nbool isWithin = isWithinViewshed(localPosition.xyz);\npoint = ViewshedPoint(i, viewshedUv, isWithin, orthoDepth);\nreturn true;\n}\n}\n}\nreturn false;\n}\nfloat normalCosAngle(float linearDepth, vec3 localPosition) {\nvec4 normal4 = texture(normalMap, uv);\nvec3 normalN = normalize(normal4.xyz * 2.0 - 1.0);\nvec3 normal =  normalize((inverseViewNormalMatrix * vec4(normalN, 1.0)).xyz);\nvec3 viewingDir = normalize(localPosition);\nreturn dot(normal, viewingDir);\n}`),o.main.add(c`float depth = depthFromTexture(depthTexture, uv);\nif (depth >= 1.0 || depth <= 0.0) {\nreturn;\n}\nfloat linearDepth = linearizeDepth(depth);\nvec4 localPosition = reconstructLocalPosition(gl_FragCoord.xy, linearDepth);\nViewshedPoint point;\nbool foundFace = getViewshedPoint(localPosition, point);\nif (!foundFace || !point.isWithin) {\nreturn;\n}\nfloat viewshedDepth = getDepthFromShadowMap(point.uv, point.face);\nfloat distance = point.orthographicDepth;\nbool visible = distance < viewshedDepth;\nfragColor = visible ? visibleColor : occludedColor;\nfloat cosAngle = normalCosAngle(linearDepth, localPosition.xyz);\nfloat threshold = -0.01;\nif (cosAngle > threshold) {\nfragColor = occludedColor;\n}`),i}const b=o(),M=Object.freeze(Object.defineProperty({__proto__:null,ViewshedPassParameters:x,build:V},Symbol.toStringTag,{value:\"Module\"}));export{x as V,M as a,V as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{translate as r,invertOrIdentity as e}from\"../../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as o}from\"../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{zeros as i}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{CameraSpace as t}from\"./CameraSpace.glsl.js\";import{glsl as a}from\"../../shaderModules/glsl.js\";import{Matrix4PassUniform as s}from\"../../shaderModules/Matrix4PassUniform.js\";import{NoParameters as c}from\"../../../../../webgl/NoParameters.js\";class m extends c{constructor(){super(...arguments),this.localOrigin=i()}}function l(i){i.include(t),i.fragment.uniforms.add(new s(\"inverseViewMatrix\",(i,t)=>{const a=r(o(),t.camera.viewMatrix,i.localOrigin);return e(a,a)})).code.add(a`vec4 reconstructLocalPosition(vec2 coord, float linearDepth) {\nvec4 cameraSpace = vec4(reconstructPosition(coord, linearDepth), 1.0);\nreturn inverseViewMatrix * cameraSpace;\n}`)}export{m as LocalFromScreenSpacePassParameters,l as localFromScreenSpace};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{featureReferenceEquals as r,featureReferenceProperty as o}from\"./featureReferenceUtils.js\";import{Clonable as i}from\"../core/Clonable.js\";import{cyclicalDegrees as t}from\"../core/Cyclical.js\";import{JSONSupportMixin as s}from\"../core/JSONSupport.js\";import{equalsMaybe as a}from\"../core/maybe.js\";import{property as l}from\"../core/accessorSupport/decorators/property.js\";import{cast as n}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as p}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureNumber as m}from\"../core/accessorSupport/ensureType.js\";import c from\"../geometry/Point.js\";let u=class extends(s(i)){constructor(e){super(e),this.observer=null,this.farDistance=1e3,this.heading=0,this.tilt=90,this.horizontalFieldOfView=45,this.verticalFieldOfView=45,this.feature=null}get valid(){return null!=this.observer&&this.farDistance>0}equals(e){return a(this.observer,e.observer)&&this.farDistance===e.farDistance&&this.heading===e.heading&&this.tilt===e.tilt&&this.horizontalFieldOfView===e.horizontalFieldOfView&&this.verticalFieldOfView===e.verticalFieldOfView&&r(this.feature,e.feature)}};e([l({type:c,json:{write:{isRequired:!0}}})],u.prototype,\"observer\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],u.prototype,\"farDistance\",void 0),e([l({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),n(e=>t.normalize(m(e),void 0,!0))],u.prototype,\"heading\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],u.prototype,\"tilt\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}})],u.prototype,\"horizontalFieldOfView\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],u.prototype,\"verticalFieldOfView\",void 0),e([l(o)],u.prototype,\"feature\",void 0),e([l({readOnly:!0,json:{read:!1}})],u.prototype,\"valid\",null),u=e([p(\"esri.analysis.Viewshed\")],u);export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{a as e,b as t,c as r}from\"../chunks/vec32.js\";import{create as n}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as l,fromPoints as o}from\"../geometry/support/ray.js\";import{toGraphic as u,hasLod as i,getIntersectedFeatureBSRadius as a}from\"../views/3d/webgl-engine/lib/intersectorUtilsConversions.js\";function c(e,t){return s(e)===s(t)}function s(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:\"\";let r=null;return r=null!=e.objectId?e.objectId:null!=e.layer&&\"objectIdField\"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==r?null:`o-${t}-${r}`}const d={json:{write:{writer:b,target:{\"feature.layerId\":{type:[Number,String],isRequired:!0},\"feature.objectId\":{type:[Number,String],isRequired:!0}}},origins:{\"web-scene\":{read:f}}},clonable:\"reference\"};function b(e,t){null!=e?.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})}function f(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:\"ObjectId\"},attributes:{ObjectId:e.objectId}}}function I(l,i,a,c){const{sceneIntersectionHelper:d}=l,{observer:b,observerFeatureId:f,targetFeatureId:I,target:m}=a;if(null==f&&null==I)return;c||(c=e=>e),e(g,b,m);const p=t(g),S=1;r(g,b,g,S/p);const v=o(g,m,y);i.options.store=2,d.intersectToolIntersectorRay(v,i);let F=null,N=null,R=null,w=null;for(const e of i.results.all){const t=u(e,l);if(null==t||null==e.distanceInRenderSpace)continue;const r=s(t);null!=r&&(null!=f&&r===f&&(F??=c(j(e,l,p)),e.distanceInRenderSpace-S<F&&(R=e)),null!=I&&r===I&&(N??=c(j(e,l,p)),null==w&&e.distanceInRenderSpace-S<p&&p-e.distanceInRenderSpace+S<N&&(w=e)))}const{observerAdjusted:T,targetAdjusted:h}=a;R?.getIntersectionPoint(T)?a.observerSurfaceNormal=R.getTransformedNormal(n()):a.observerSurfaceNormal=null,w?.getIntersectionPoint(h)?a.targetSurfaceNormal=w.getTransformedNormal(n()):a.targetSurfaceNormal=null}function j(e,t,r){if(i(e)){const n=a(e,t);if(null!=n)return Math.min(n*m,r)}return 1e-5*r}const m=.05,y=l(),g=n();export{c as featureReferenceEquals,d as featureReferenceProperty,s as getFeatureId,I as updatePointsFromFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Intersector as e}from\"../3d/webgl-engine/lib/Intersector.js\";function o(o){const n=new e(o);return n.options.store=0,n.options.excludeLabels=!0,n}export{o as newToolIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{EventedAccessor as t}from\"../../core/Evented.js\";import{makeHandle as r}from\"../../core/handleUtils.js\";import{EsriPromiseMixin as o}from\"../../core/Promise.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let n=class extends(o(t)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return(this.parent?.visible&&!this.parent.suspended)??!0}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractive(){return this._interactiveViewModelCount++,r(()=>this._interactiveViewModelCount--)}};e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([s(\"esri.views.analysis.AnalysisView\")],n);export{n as AnalysisView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Material as r}from\"../lib/Material.js\";import{intersectTriangleGeometry as e,intersectTriangleGeometry2d as t}from\"../lib/RayIntersections.js\";class i extends r{intersect(r,t,i,s,n,o){return e(r,i,s,n,void 0,o)}intersectDraped(r,e,i,s){return t(i[0],i[1],r,s)}}export{i as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";const t=2,r=4,s=i(2),o=1.5;class c{constructor(){this.collisionRadius=5,this.fovUnfocusedArcWidth=r,this.fovFocusedArcWidth=t*this.fovUnfocusedArcWidth,this.scaleOrientSize=90,this.scaleOrientHandleRadius=.025,this.scaleOrientMinDistance=1,this.scaleOrientArrowTipLength=.3,this.scaleOrientArrowTipFocusMultiplier=t/1.5,this.observerSize=5,this.hoverTimeoutMilliseconds=1e3,this.viewAngleThreshold=10}getFovArcWidth(e){return e?this.fovFocusedArcWidth:this.fovUnfocusedArcWidth}getScaleOrientArrowTipLength(e){return this.scaleOrientArrowTipLength*(e?this.scaleOrientArrowTipFocusMultiplier:1)}}const n=new c;class h{constructor(){this.frameWidthNotSelected=.3,this.frameWidthSelected=1,this.frameColor=new e([255,255,255,.99]),this.observerPointConfiguration={size:6,pixelSnappingEnabled:!1,primitive:\"circle\",elevationInfo:{mode:\"absolute-height\",offset:0},outlineSize:0,color:e.toUnitRGBA(new e([3,252,111,1]))},this.shapeMaterialParameters={color:[.33,.33,.33,.25],renderOccluded:1,cullFace:2,writeDepth:!1}}}const l=new h;export{s as arcAnglePerSegment,o as creationVerticalOffset,n as viewshedToolManipulatorConfiguration,l as viewshedVisualizationConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{rad2deg as r,clamp as e}from\"../../../../core/mathUtils.js\";import{fromRotation as t}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as o,n as a,d as s,p as i,f as c,a as m,g as p,h as d}from\"../../../../chunks/vec32.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getNormal as f,fromPositionAndNormal as u,create as g}from\"../../../../geometry/support/plane.js\";import{viewshedToolManipulatorConfiguration as h}from\"./ViewshedConfiguration.js\";import{calculateTranslateRotateFromBases as j,calculateInputRotationTransform as b}from\"../../interactive/manipulatorUtils.js\";import{screenToRenderPlane as x}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{headingTiltToDirectionUp as v}from\"../../support/cameraUtils.js\";import{createDirectionUp as S}from\"../../support/cameraUtilsInternal.js\";function R({tiltedUpVector:r,rightVector:e,observerRenderSpace:t},n){const o=j(r,e,t,n);return o[12]=0,o[13]=0,o[14]=0,o}function U(t,n,o,i){const j=l(),v=f(o.plane),S=E(n,v);let R;if(Math.abs(S)>h.viewAngleThreshold)R=t.next(x(n,o.plane));else{const r=u(i.targetRenderSpace,o.basis1,g()),s=a(D,o.basis1),f=a(M,o.basis2);R=t.next(x(n,r)).next(r=>{const t=r=>{const t=c(m(V,r,o.origin),f),n=Math.acos(e(t/i.farDistanceRenderSpace,-1,1)),a=Math.sin(n)*i.farDistanceRenderSpace;return p(l(),o.origin,p(l(),d(V,s,a),d(w,f,t)))},n=t(r.renderStart),a=t(r.renderEnd);return{...r,renderStart:n,renderEnd:a}})}return R.next(e=>{\"start\"===e.action&&s(j,e.renderStart);const t=r(b(j,e.renderEnd,o.origin,v));return{...e,deltaAngle:t}})}function E(e,t){const n=D;e.renderCoordsHelper.toRenderCoords(e.camera.position,n);const o=v(e,n,e.camera.heading,e.camera.tilt,S()).direction;return r(i(o,t))-90}function C(r,e,n,a){return t(A,n,a),o(r,e,A)}const D=l(),M=l(),V=l(),w=l(),A=n();export{R as getViewshedRotationMatrix,C as rotateBy,U as screenToCircleAngle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../core/Accessor.js\";import{deg2rad as r}from\"../../../../core/mathUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as n,n as p,i as a,u as c,g as l,h}from\"../../../../chunks/vec32.js\";import{create as d,fromValues as u,fromArray as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import v from\"../../../../geometry/Point.js\";import{rotateBy as g}from\"./viewshedToolUtils.js\";var S;let m=S=class extends t{constructor(e){super(e),this.observerRenderSpaceOverride=null,this.needUpdateByFeature=!1}get observer(){return this.viewshed.observer??new v}get effectiveObserverRenderSpace(){return this.observerRenderSpaceOverride??this.observerRenderSpace}get effectiveObserver(){return this.renderSpaceToPoint(this.effectiveObserverRenderSpace,this.observer.spatialReference)}get effectiveTargetRenderSpace(){return this._computeTargetRenderSpace(this.effectiveObserverRenderSpace)}get farDistance(){return this.viewshed.farDistance}get farDistanceRenderSpace(){return this.farDistance/this.metersPerUnit}get heading(){return this.viewshed.heading}get tilt(){return this.viewshed.tilt}get feature(){return this.viewshed.feature}get tiltParallelToSurface(){return this.tilt-90}get horizontalFieldOfView(){return this.viewshed.horizontalFieldOfView}get verticalFieldOfView(){return this.viewshed.verticalFieldOfView}get observerRenderSpace(){return this._pointToRenderSpace(this.observer,d())}get target(){const e=this.targetRenderSpace;return this.renderSpaceToPoint(e,this.observer.spatialReference)}get targetRenderSpace(){return this._computeTargetRenderSpace(this.observerRenderSpace)}get targetDirection(){const e=n(d(),this.targetRenderSpace,this.observerRenderSpace);return p(e,e)}get tiltedUpVector(){const e=g(d(),this.upVector,-r(this.tiltParallelToSurface),this.leftVector);return p(e,e)}get _basis(){return this.renderCoordsHelper.basisMatrixAtPosition(this.observerRenderSpace,s())}get upVector(){const e=this._basis;return u(e[8],e[9],e[10])}get northVector(){const e=this._basis;return u(e[4],e[5],e[6])}get leftVector(){const e=this.upVector,t=g(d(),this.northVector,-r(this.heading),e);return a(t,e,t)}get rightVector(){return c(d(),this.leftVector)}clone(){return new S({renderCoordsHelper:this.renderCoordsHelper,viewshed:this.viewshed.clone()})}get valid(){return this.viewshed.valid}get metersPerUnit(){return this.renderCoordsHelper.spatialReference.metersPerUnit}pointOnSphere(e,t,o){const{observerRenderSpace:i,targetRenderSpace:s}=this,p=n(R,s,i);return g(p,p,-r(t),this.leftVector),g(p,p,-r(e),this.tiltedUpVector),l(o,p,i)}cornerPoints(e){const t=this.horizontalFieldOfView/2,r=this.verticalFieldOfView/2;this.pointOnSphere(-t,r,e.topLeft),this.pointOnSphere(t,r,e.topRight),this.pointOnSphere(-t,-r,e.bottomLeft),this.pointOnSphere(t,-r,e.bottomRight)}arcCentersPoints(e){const t=this.horizontalFieldOfView/2,r=this.verticalFieldOfView/2;this.pointOnSphere(0,r,e.top),this.pointOnSphere(0,-r,e.bottom),this.pointOnSphere(-t,0,e.left),this.pointOnSphere(t,0,e.right)}parallelCenterPoints(e){const t=this.observerRenderSpace,o=this.farDistanceRenderSpace*Math.sin(r(this.verticalFieldOfView/2)),i=h(R,this.tiltedUpVector,o);l(e.top,t,i),n(e.bottom,t,i)}renderSpaceToPoint(e,t){const r=R;return this.renderCoordsHelper.fromRenderCoords(e,r,t),new v(r[0],r[1],r[2],t)}_pointToRenderSpace(e,t){const r=f(e.toArray());return this.renderCoordsHelper.toRenderCoords(r,e.spatialReference,t),t}_computeTargetRenderSpace(e){const{leftVector:t,northVector:o,upVector:i}=this,s=this.farDistanceRenderSpace,n=d();return h(n,o,s),g(n,n,-r(this.heading),i),g(n,n,-r(this.tiltParallelToSurface),t),l(n,e,n),n}};e([o()],m.prototype,\"renderCoordsHelper\",void 0),e([o()],m.prototype,\"viewshed\",void 0),e([o()],m.prototype,\"observerRenderSpaceOverride\",void 0),e([o()],m.prototype,\"needUpdateByFeature\",void 0),e([o()],m.prototype,\"observer\",null),e([o()],m.prototype,\"effectiveObserverRenderSpace\",null),e([o()],m.prototype,\"effectiveObserver\",null),e([o()],m.prototype,\"effectiveTargetRenderSpace\",null),e([o()],m.prototype,\"farDistance\",null),e([o()],m.prototype,\"farDistanceRenderSpace\",null),e([o()],m.prototype,\"heading\",null),e([o()],m.prototype,\"tilt\",null),e([o()],m.prototype,\"feature\",null),e([o()],m.prototype,\"tiltParallelToSurface\",null),e([o()],m.prototype,\"horizontalFieldOfView\",null),e([o()],m.prototype,\"verticalFieldOfView\",null),e([o()],m.prototype,\"observerRenderSpace\",null),e([o()],m.prototype,\"target\",null),e([o()],m.prototype,\"targetRenderSpace\",null),e([o()],m.prototype,\"targetDirection\",null),e([o()],m.prototype,\"tiltedUpVector\",null),e([o()],m.prototype,\"_basis\",null),e([o()],m.prototype,\"upVector\",null),e([o()],m.prototype,\"northVector\",null),e([o()],m.prototype,\"leftVector\",null),e([o()],m.prototype,\"rightVector\",null),e([o()],m.prototype,\"valid\",null),e([o()],m.prototype,\"metersPerUnit\",null),m=S=e([i(\"esri.views.3d.analysis.Viewshed.ViewshedComputedData\")],m);const R=d();export{m as ViewshedComputedData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import r from\"../../../../core/Handles.js\";import{handlesGroup as e}from\"../../../../core/handleUtils.js\";import{deg2rad as a,clamp as i}from\"../../../../core/mathUtils.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{watch as n,initial as s}from\"../../../../core/reactiveUtils.js\";import{fromYRotation as l,fromXRotation as c,fromScaling as u,fromZRotation as p,fromRotation as m,multiply as h}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{j as d,a as _,h as g}from\"../../../../chunks/vec32.js\";import{create as M,fromValues as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{f as v}from\"../../../../chunks/boundedPlane.js\";import{viewshedToolManipulatorConfiguration as j}from\"./ViewshedConfiguration.js\";import{getViewshedRotationMatrix as w,screenToCircleAngle as A}from\"./viewshedToolUtils.js\";import{Manipulator3D as V}from\"../../interactive/Manipulator3D.js\";import{RenderObject as O}from\"../../interactive/RenderObject.js\";import{InteractiveManipulation as E}from\"../../interactive/editingTools/manipulations/InteractiveManipulation.js\";import{createPolylineGeometry as y}from\"../../webgl-engine/lib/GeometryUtil.js\";import{assert as R}from\"../../webgl-engine/lib/Util.js\";import{RibbonLineMaterial as T}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{createManipulatorDragEventPipeline as U}from\"../../../interactive/dragEventPipeline.js\";class x extends E{constructor(t){super(),this._handles=new r,this._tool=t.tool,this._view=t.view,this._focusedArcMaterial=this._createArcMaterial(!0),this._unfocusedArcMaterial=this._createArcMaterial(!1),this._createManipulators(),this.forEachManipulator(t=>this._tool.manipulators.add(t))}destroy(){this._handles=o(this._handles),this.forEachManipulator(t=>{this._tool.manipulators.remove(t),t.destroy()}),this._tool=null,this._view=null,this._manipulators=null}createDragPipeline(t,r){const a=Object.values(this._manipulators);return e(a.map(({manipulator:e,side:a})=>U(e,(e,i,o,n,s)=>{const l=G(a,r),c=i.next(t=>({...t,manipulatorType:2,side:a})),u=A(c,this._view,l,r);t(e,u,o)})))}updateManipulatorsTransform(t){t.arcCentersPoints(H),this._forEachManipulatorInfo(r=>this._updateArcManipulatorTransform(r,t,H[r.side]))}updateManipulatorVisuals(t){this._forEachManipulatorInfo(r=>this._updateArcManipulatorVisuals(r,t))}_updateArcManipulatorVisuals({manipulator:t,side:r},e){const a=[];if(null!=e){const[i,o]=P(r,e,this._unfocusedArcMaterial);a.push(new O(i,1),new O(i.instantiate({material:this._focusedArcMaterial}),2)),t.collisionType={type:\"line\",paths:[o]}}t.renderObjects=a,t.radius=j.collisionRadius}_updateArcManipulatorTransform({manipulator:t,side:r},e,i){const o=e.horizontalFieldOfView,n=a(e.verticalFieldOfView/2),s=a(o/2),_=I(r);t.renderLocation=i;const g=f(),M=t=>{h(g,t,g)};M(l(k,a(-90))),_||M(c(k,n));const b=e.farDistanceRenderSpace;let v,j;M(u(k,d(L,b,b,b))),M(p(k,F(r))),M(w(e,k)),_?(v=s,j=e.tiltedUpVector):(j=e.rightVector,v=n),v*=\"right\"===r||\"bottom\"===r?-1:1;const A=m(k,v,j);null!=A&&M(A),t.modelTransform=g}_createManipulators(){const t=this._createArcManipulator(\"left\"),r=this._createArcManipulator(\"right\"),e=this._createArcManipulator(\"top\"),a=this._createArcManipulator(\"bottom\");this._manipulators={left:t,right:r,top:e,bottom:a};[[a.manipulator,e.manipulator],[t.manipulator,r.manipulator]].forEach(([t,r])=>{t.metadata={pairedManipulator:r},r.metadata={pairedManipulator:t}})}_createArcManipulator(t){const r=new V({view:this._view,autoScaleRenderObjects:!1,worldSized:!0}),e={manipulator:r,side:t};return this._updateArcManipulatorVisuals(e),this._handles.add(r.events.on([\"focus-changed\",\"grab-changed\"],t=>{const e=r.metadata?.pairedManipulator;null!=e&&(e.hovering!==r.hovering&&(e.hovering=r.hovering),e.grabbing!==r.grabbing&&(e.grabbing=r.grabbing))})),e}_createArcMaterial(r){const e=j.getFovArcWidth(r),a=new T({renderOccluded:4,isDecoration:!0,width:e},this._view.state.isGlobal);return this._handles.add(n(()=>t.toUnitRGBA(this._view.effectiveTheme.accentColor),t=>a.setParameters({color:t}),s)),a}forEachManipulator(t){Object.values(this._manipulators).forEach(({manipulator:r})=>t(r,2))}_forEachManipulatorInfo(t){Object.values(this._manipulators).forEach(r=>t(r))}get test(){return{manipulators:this._manipulators}}}function P(t,r,e){const{horizontalFieldOfView:o,verticalFieldOfView:n}=r,s=I(t),l=a(i((s?n:o)/2,0,15)),c=S(-l/2,l/2,s?1:Math.max(Math.sin(a(90-n/2)),.1));return[y(e,c),c]}function S(t,r,e,a=10){R(a>1,\"createArcPolylineGeometry() needs at least 2 for numVertices\");const i=r-t;if(i<=0||e<=0){const t=.01;return[b(0,0,t),b(0,0,-t)]}const o=[],n=i/a;for(let s=0;s<a;s++){let i=t+s*n;s===a-1&&(i=r);const l=Math.cos(i)*e,c=Math.sin(i)*e,u=b(l-e,0,c);o.push(u)}return o}function D(t){switch(t){case\"left\":return 0;case\"bottom\":return 1;case\"right\":return 2;case\"top\":return 3}}function F(t){return D(t)*z}function I(t){return\"left\"===t||\"right\"===t}function C(t){return\"left\"===t?\"right\":\"right\"===t?\"left\":\"top\"===t?\"bottom\":\"top\"}function G(t,{observerRenderSpace:r,targetRenderSpace:e,tiltedUpVector:a,rightVector:i,farDistanceRenderSpace:o}){const n=_(L,e,r),s=I(t)?i:a,l=g(B,s,o);return v(r,n,l)}const z=Math.PI/2,k=f(),L=M(),B=M(),H={top:M(),bottom:M(),left:M(),right:M()};export{x as ViewshedFieldOfViewManipulation,S as createArcPolylineVertices,C as flipSide,I as isSideHorizontal,F as sideToRad};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import t from\"../../../../core/Handles.js\";import{watch as r,initial as o}from\"../../../../core/reactiveUtils.js\";import{fromTranslation as i,mul as s,fromXRotation as a,fromYRotation as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as c}from\"../../../../chunks/vec32.js\";import{fromValues as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{displayFocusMultiplier as p}from\"../Slice/sliceToolConfig.js\";import{viewshedToolManipulatorConfiguration as f}from\"./ViewshedConfiguration.js\";import{Manipulator3D as h}from\"../../interactive/Manipulator3D.js\";import{RenderObject as d}from\"../../interactive/RenderObject.js\";import{createTubeGeometry as u,createExtrudedTriangle as j}from\"../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as g}from\"../../webgl-engine/materials/ColorMaterial.js\";class w extends h{constructor(e,r){super({view:e,autoScaleRenderObjects:!1,worldSized:!1,radius:f.collisionRadius}),this._handles=new t,this._setupManipulatorVisual(r)}destroy(){this._handles.remove(),super.destroy()}_setupManipulatorVisual(e){const t=this._createMaterial(),r=1,o=[m(0,0,0),m(0,0,r)],h=u(t,o,e,16,!1),j=u(t,o,e*p,16,!1),g=b(!1,t,e),w=b(!0,t,e),M=l();i(M,o[o.length-1]),s(M,M,a(v,Math.PI/2)),s(M,M,n(v,Math.PI/2)),g.transformation=M,w.transformation=M,this.renderObjects=[new d(h,1),new d(j,2),new d(g,1),new d(w,2)];const _=m(0,f.getScaleOrientArrowTipLength(!0),0),O=c(_,_,M),x=[...o,O];this.collisionType={type:\"line\",paths:[x]}}_createMaterial(){const t=new g({cullFace:2,renderOccluded:4,isDecoration:!0});return this._handles.add(r(()=>e.toUnitRGBA(this.view.effectiveTheme.accentColor),e=>t.setParameters({color:e}),o)),t}}function b(e,t,r){const o=f.getScaleOrientArrowTipLength(e);let i=2*r;e&&(i*=p);const s=o/2;return j(t,o,s,s,i,0)}const v=l();export{w as ViewshedArrowManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Handles.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{fromScaling as e,fromTranslation as a,fromZRotation as r,mul as o,fromYRotation as n,multiply as s}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{j as m,h as c,g as p,a as u,H as h,f as d,c as f,n as _}from\"../../../../chunks/vec32.js\";import{create as g}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{f as v}from\"../../../../chunks/boundedPlane.js\";import{fromValues as T}from\"../../../../geometry/support/ray.js\";import{displayFocusMultiplier as w}from\"../Slice/sliceToolConfig.js\";import{ViewshedArrowManipulator as j}from\"./ViewshedArrowManipulator.js\";import{viewshedToolManipulatorConfiguration as D}from\"./ViewshedConfiguration.js\";import{getViewshedRotationMatrix as H,screenToCircleAngle as x}from\"./viewshedToolUtils.js\";import{screenToRenderRay as S}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{discRadiusSmall as M,discRadius as P}from\"../../interactive/editingTools/manipulations/config.js\";import{InteractiveManipulation as R}from\"../../interactive/editingTools/manipulations/InteractiveManipulation.js\";import{createManipulatorDragEventPipeline as y,dragAtLocation as b}from\"../../../interactive/dragEventPipeline.js\";class V extends R{constructor(i){super(),this._handles=new t,this._tool=i.tool,this._view=i.view;const e=D.scaleOrientHandleRadius;this._manipulatorHeading=new j(this._view,e),this._manipulatorTilt=new j(this._view,e),this._manipulatorDistance=new j(this._view,e),this.forEachManipulator(t=>this._tool.manipulators.add(t))}destroy(){this._handles.destroy(),this.forEachManipulator(t=>{this._tool.manipulators.remove(t),t.destroy()}),this._manipulatorHeading=null,this._manipulatorTilt=null,this._manipulatorDistance=null,this._tool=null,this._view=null}createHeadingDragPipeline(t,e){return y(this._manipulatorHeading,(a,r,o,n,s)=>{const l=this._view,{tiltParallelToSurface:m,farDistanceRenderSpace:d,upVector:f,observerRenderSpace:_,targetRenderSpace:g,rightVector:T}=e,w=Math.sin(i(m))*d,j=p(L,_,c(O,f,w)),D=u(O,g,j),H=c(k,T,h(D)),S=v(j,D,H),M=x(r,l,S,e).next(t=>({...t,manipulatorType:3}));t(a,M,o)})}createTiltDragPipeline(t,i){return y(this._manipulatorTilt,(e,a,r,o,n)=>{const{observerRenderSpace:s,farDistanceRenderSpace:l,upVector:m,targetDirection:p}=i,u=d(p,m),h=f(L,p,m,-u);c(h,_(h,h),l);const g=c(O,m,l),T=v(s,h,g),w=x(a,this._view,T,i).next(t=>({...t,manipulatorType:3}));t(e,w,r)})}createDistanceDragPipeline(t,i){return y(this._manipulatorDistance,(e,a,r,o,n)=>{const s=T(i.observerRenderSpace,i.targetDirection),l=a.next(b(this._view,e.location)).next(S(this._view,s)).next(t=>({...t,manipulatorType:2}));t(e,l,r)})}updateManipulators(t){const{targetRenderSpace:i}=t;this._manipulatorHeading.renderLocation=i,this._manipulatorTilt.renderLocation=i,this._manipulatorDistance.renderLocation=i;const p=l(),u=t=>{s(p,t,p)},h=D.scaleOrientSize*(M/P);u(e(E,m(L,h,h,h))),u(H(t,E));const d=D.scaleOrientHandleRadius*w*h,f=c(L,t.targetDirection,d);u(a(E,f));const _=r(E,-C);o(_,_,n(I,-C)),this._manipulatorHeading.modelTransform=o(l(),p,_);const g=n(E,C);o(g,g,r(I,Math.PI)),this._manipulatorTilt.modelTransform=s(l(),p,g),this._manipulatorDistance.modelTransform=p}forEachManipulator(t){t(this._manipulatorHeading,3),t(this._manipulatorTilt,3),t(this._manipulatorDistance,2)}}const E=l(),I=l(),L=g(),O=g(),k=g(),C=Math.PI/2;export{V as ViewshedScaleOrientManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import e from\"../../../../Color.js\";import o from\"../../../../core/Handles.js\";import{watch as t,initial as i}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Warning.js\";import\"../../../../core/Error.js\";import{viewshedToolManipulatorConfiguration as c}from\"./ViewshedConfiguration.js\";import{Manipulator3D as m}from\"../../interactive/Manipulator3D.js\";import{createManipulatorMaterial as a}from\"../../interactive/manipulatorUtils.js\";import{RenderObject as n}from\"../../interactive/RenderObject.js\";import{createSphereGeometry as p}from\"../../webgl-engine/lib/GeometryUtil.js\";class l extends m{constructor(r,e){super({view:r,autoScaleRenderObjects:!1,worldSized:!1,radius:c.observerSize,interactive:!1}),this._handles=new o;const s=a(this._color);this.renderObjects=[new n(p(s,c.observerSize,32,32))],e.manipulators.add(this),this._handles.add([t(()=>this._color,r=>{s.setParameters({color:r})},i)])}destroy(){this._handles.remove(),super.destroy()}get _color(){return e.toUnitRGBA(this.view.effectiveTheme.accentColor)}}r([s()],l.prototype,\"_color\",null);export{l as ViewshedObserverManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import i from\"../../../../core/Accessor.js\";import{isSome as t}from\"../../../../core/arrayUtils.js\";import{createTask as a}from\"../../../../core/asyncUtils.js\";import{cyclicalDegrees as o,Cyclical as n}from\"../../../../core/Cyclical.js\";import{handlesGroup as s}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{deg2rad as r}from\"../../../../core/mathUtils.js\";import{abortMaybe as l,destroyMaybe as p}from\"../../../../core/maybe.js\";import{after as h,throwIfAborted as u}from\"../../../../core/promiseUtils.js\";import{watch as d,syncAndInitial as c,initial as v}from\"../../../../core/reactiveUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import{subclass as f}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as g,H as M,f as b}from\"../../../../chunks/vec32.js\";import{create as _}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{tryProjectWithZConversion as w}from\"../../../../geometry/projectionUtils.js\";import{viewingModeFromString as O}from\"../../../ViewingMode.js\";import{viewshedToolManipulatorConfiguration as V}from\"./ViewshedConfiguration.js\";import{ViewshedFieldOfViewManipulation as y,isSideHorizontal as D,flipSide as T}from\"./ViewshedFieldOfViewManipulation.js\";import{ViewshedScaleOrientManipulation as H}from\"./ViewshedScaleOrientManipulation.js\";import{ViewshedObserverManipulator as j}from\"./viewshedToolManipulatorUtils.js\";import{discRadiusSmall as C}from\"../../interactive/editingTools/manipulations/config.js\";import{MoveManipulation as F}from\"../../interactive/editingTools/manipulations/MoveManipulation.js\";import{resetProperties as S,dragManipulatedObject as P}from\"../../../interactive/dragEventPipeline.js\";import{EditGeometryOperations as k}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";const E=Symbol(\"dragHandles\"),x=Symbol(\"hideManipulators\"),A=Symbol(\"hideFoVManipulators\"),z=Symbol(\"hideObserverManipulator\");let U=class extends i{constructor(e){super(e),this._moveManipulation=null,this._observerManipulator=null,this._fieldOfViewManipulation=null,this._scaleOrientManipulation=null,this._forceHoveringTask=null,this._forceHoveringTestPromise=null,this._grabbing=!1,this.viewshedComputedData=null}initialize(){this._moveManipulation=this._createMoveManipulation(),this._fieldOfViewManipulation=new y({view:this.view,tool:this.parentTool}),this._scaleOrientManipulation=new H({view:this.view,tool:this.parentTool}),this._observerManipulator=new j(this.view,this.parentTool),this.addHandles([d(()=>this.viewshedComputedData?.observerRenderSpace,e=>{null!=e&&(this._moveManipulation.renderLocation=e,this._observerManipulator.renderLocation=e)},c),d(()=>this.viewshedComputedData?.heading,e=>{e&&(this._moveManipulation.angle=r(90-e))},v),d(()=>{const{viewshedComputedData:e}=this;return{viewshedComputedData:e,observer:e?.observer}},({viewshedComputedData:e,observer:i},a)=>{this._grabbing&&i!==a?.observer||(this.removeHandles(E),e?.valid&&this.addHandles([this._buildObserverDragPipeline(e),this._buildFOVDragPipeline(e),this._buildScaleOrientDragPipeline(e)].filter(t),E))},v),d(()=>{const e=this.viewshedComputedData;return e?.valid?{viewshedCompData:e,target:e.targetRenderSpace,hFOV:e.horizontalFieldOfView,vFOV:e.verticalFieldOfView}:null},e=>{null!=e&&this._fieldOfViewManipulation.updateManipulatorsTransform(e.viewshedCompData)},v),d(()=>{const e=this.viewshedComputedData;return e?.valid?{viewshedCompData:e,hFOV:e.horizontalFieldOfView,vFOV:e.verticalFieldOfView,tilt:e.tilt}:null},e=>{null!=e&&this._fieldOfViewManipulation.updateManipulatorVisuals(e.viewshedCompData)},v),d(()=>{const e=this.analysisViewData.visible&&(this.viewshedComputedData?.valid??!1),i=this.parentTool.selectedViewshedComputedData===this.viewshedComputedData;return{fovManipulationAvailable:e&&!this.parentTool.isPlacingTarget,nonFOVManipulationAvailable:e&&(!this.parentTool.creating||i)}},({fovManipulationAvailable:e,nonFOVManipulationAvailable:i})=>{this._moveManipulation.available=i,this._scaleOrientManipulation.available=i,this._observerManipulator.available=i,this._fieldOfViewManipulation.available=e},v),d(()=>{const e=this.viewshedComputedData;if(!e?.valid)return null;const{observer:i,target:t,verticalFieldOfView:a,horizontalFieldOfView:o}=e;return{viewshedCompData:e,observer:i,target:t,verticalFieldOfView:a,horizontalFieldOfView:o}},e=>{null!=e&&this._scaleOrientManipulation.updateManipulators(e.viewshedCompData)},v)]);const e=e=>{const i=this.analysisViewData;this.addHandles([e.events.on(\"focus-changed\",()=>{const e=this._someManipulatorHovering();e&&this.parentTool.subToolHandles.forEach(({subTool:e})=>{e._resetHoveringTask()}),this._someManipulatorSelected()||e||(this._forceHoveringTask=a(async e=>{await(this._forceHoveringTestPromise??h(V.hoverTimeoutMilliseconds,e)),u(e),this._forceHoveringTask=null,this._updateManipulatorVisibility()}))}),e.events.on(\"grab-changed\",t=>{this._grabbing=\"start\"===t.action,\"end\"===t.action&&i.tool?.updateInteractionVisualsVisibility(),this.parentTool.subToolHandles.forEach(({subTool:e})=>{e!==this&&e._setInteractive(!this._grabbing)}),this._setInteractive(i=>i.hasManipulator(e)||!this._grabbing)}),e.events.on(\"drag\",e=>{\"start\"===e.action&&i.tool?.updateInteractionVisualsVisibility()})])};this._forEachManipulator(e)}destroy(){this._forceHoveringTask=l(this._forceHoveringTask),this._moveManipulation=p(this._moveManipulation),this._fieldOfViewManipulation=p(this._fieldOfViewManipulation),this._scaleOrientManipulation=p(this._scaleOrientManipulation),this.parentTool.manipulators.remove(this._observerManipulator),this._observerManipulator=p(this._observerManipulator)}get viewshed(){return this.viewshedComputedData?.viewshed}get grabbing(){return this._grabbing}get observer(){return this.viewshed?.observer}set observer(e){const i=this.viewshed;null!=i&&(i.observer=e)}get discManipulator(){return this._moveManipulation.xyManipulation.discManipulator}get moveInteractionState(){const{dragging:e,grabbing:i}=this._moveManipulation;return{dragging:e,grabbing:i}}get scaleOrientInteractionState(){const{dragging:e,grabbing:i}=this._scaleOrientManipulation;return{dragging:e,grabbing:i}}_setInteractive(e){const i=\"boolean\"==typeof e;this._forEachManipulation(t=>t.interactive=i?e:e(t))}onManipulatorSelectionChanged(){if(this._updateManipulatorVisibility(),!this._someManipulatorSelected()){this.analysisViewData.selectedViewshed===this.viewshed&&(this.analysisViewData.selectedViewshed=null),this._resetHoveringTask()}}hasManipulator(e){let i=!1;return this._forEachManipulator(t=>{i=i||t===e}),i}_someManipulatorSelected(){return this._moveManipulation.selected||this._fieldOfViewManipulation.selected||this._scaleOrientManipulation.selected}_someManipulatorHovering(){return this._moveManipulation.hovering||this._fieldOfViewManipulation.hovering||this._scaleOrientManipulation.hovering}_createMoveManipulation(){return new F({view:this.view,tool:this.parentTool,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:C})}_buildObserverDragPipeline(e){const i={mode:\"absolute-height\",offset:0},t=e.observer;if(null==t)return null;const a=this.view.spatialReference;return this._moveManipulation.createDragPipeline((e,i,o,n,s)=>{n=n.next(S(this,[\"observer\"]));const r=w(t,a);if(null==r)return{steps:o,cancel:n};const l=k.fromGeometry(r,O(this.view.viewingMode));return{steps:o.next(P({operations:l})).next(e=>(this.observer=l.data.geometry,e)),cancel:n}},i,a,void 0)}_buildFOVDragPipeline(e){let i=0,t=0;return this._fieldOfViewManipulation.createDragPipeline((a,n,s)=>{if(null==e)return{steps:n,cancel:s};const r=e.viewshed;let l=null;s=s.next(S(r,[\"horizontalFieldOfView\",\"verticalFieldOfView\"]));return{steps:n.next(a=>{\"start\"===a.action&&(l=null,i=e.horizontalFieldOfView,t=e.verticalFieldOfView);const n=a.deltaAngle;if(null==l&&0!==n){const e=\"bottom\"===a.side||\"left\"===a.side?n>0:n<0;l=D(a.side)?0===i&&e||360===i&&!e:0===t&&e}const s=l?T(a.side):a.side;let p=0;switch(s){case\"left\":p=i/2-n;break;case\"right\":p=i/2+n;break;case\"top\":p=t+2*n;break;case\"bottom\":p=t-2*n}return D(s)?(p=o.normalize(p),p=p>270?0:p>180?180:p,r.horizontalFieldOfView=2*p):r.verticalFieldOfView=p,a}),cancel:s}},e)}_buildScaleOrientDragPipeline(e){let i=0,t=0;const a=(i,t)=>(a,o,n)=>{if(null==e)return{steps:o,cancel:n};const s=e.viewshed;return n=n.next(S(s,[i])),{steps:o=o.next(t(s,e)),cancel:n}};return s([this._scaleOrientManipulation.createHeadingDragPipeline(a(\"heading\",(i,a)=>a=>(\"start\"===a.action&&(t=e.heading),i.heading=o.normalize(t+a.deltaAngle),a)),e),this._scaleOrientManipulation.createTiltDragPipeline(a(\"tilt\",(t,a)=>a=>{\"start\"===a.action&&(i=e.tilt);let o=i+a.deltaAngle;return o<-90?o=180:o>270&&(o=0),t.tilt=R.clamp(o),a}),e),this._scaleOrientManipulation.createDistanceDragPipeline(a(\"farDistance\",(e,i)=>t=>{const a=g(I,t.renderEnd,i.observerRenderSpace),o=M(a)*i.metersPerUnit,n=b(a,i.targetDirection)<0?V.scaleOrientMinDistance:o;return e.farDistance=n,t}),e)])}_updateManipulatorVisibility(){const e=this._someManipulatorSelected(),i=null!=this._forceHoveringTask||this._someManipulatorHovering(),t=this._fieldOfViewManipulation.hovering,a=this.parentTool.creating;let o=[];const n=e=>{o.push(e.disableDisplay())};e||!a&&i?this.removeHandles(x):(this._scaleOrientManipulation.forEachManipulator(n),this._moveManipulation.forEachManipulator(n),this.addHandles(o,x),o=[]),e||!a&&i||a&&t?this.removeHandles(A):(this._fieldOfViewManipulation.forEachManipulator(n),this.addHandles(o,A)),e||!a?this.removeHandles(z):this.addHandles(this._observerManipulator.disableDisplay(),z)}_resetHoveringTask(){this._forceHoveringTask=l(this._forceHoveringTask),this._updateManipulatorVisibility()}_forEachManipulator(e){this._forEachManipulation(i=>{i.forEachManipulator(e)}),e(this._observerManipulator)}_forEachManipulation(e){e(this._moveManipulation),e(this._fieldOfViewManipulation),e(this._scaleOrientManipulation)}get test(){return{moveManipulation:this._moveManipulation,fieldOfViewManipulation:this._fieldOfViewManipulation,scaleOrientManipulation:this._scaleOrientManipulation,viewshedComputedData:this.viewshedComputedData,setHoveringTimeoutPromise:e=>{this._forceHoveringTestPromise=e}}}};e([m({constructOnly:!0})],U.prototype,\"analysis\",void 0),e([m({constructOnly:!0})],U.prototype,\"analysisViewData\",void 0),e([m({constructOnly:!0})],U.prototype,\"parentTool\",void 0),e([m({constructOnly:!0,nonNullable:!0})],U.prototype,\"view\",void 0),e([m()],U.prototype,\"viewshed\",null),e([m()],U.prototype,\"_grabbing\",void 0),e([m()],U.prototype,\"grabbing\",null),e([m()],U.prototype,\"viewshedComputedData\",void 0),e([m()],U.prototype,\"observer\",null),U=e([f(\"esri.views.3d.analysis.Viewshed.ViewshedSubTool\")],U);const I=_(),R=new n(0,180);export{U as ViewshedSubTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../analysis/Viewshed.js\";import{makeHandle as i}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{mapCollection as s}from\"../../../../core/mapCollectionUtils.js\";import{rad2deg as a}from\"../../../../core/mathUtils.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{when as n,watch as l,syncAndInitial as r,sync as d,initial as c}from\"../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as m,H as g,j as v,p as w,f as _}from\"../../../../chunks/vec32.js\";import{create as V}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import f from\"../../../../geometry/Point.js\";import{fromPositionAndNormal as b,create as y,projectPoint as S}from\"../../../../geometry/support/plane.js\";import{creationVerticalOffset as T}from\"./ViewshedConfiguration.js\";import{ViewshedSubTool as C}from\"./ViewshedSubTool.js\";import{Manipulator3D as D}from\"../../interactive/Manipulator3D.js\";import{Settings as M}from\"../../interactive/editingTools/settings.js\";import{ExtendedLineVisualElement as j}from\"../../interactive/visualElements/ExtendedLineVisualElement.js\";import{LaserlineVisualElement as H}from\"../../interactive/visualElements/LaserlineVisualElement.js\";import{toGraphic as I}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import{AnalysisToolBase as P}from\"../../../interactive/AnalysisToolBase.js\";import{sketchKeys as E}from\"../../../interactive/keybindings.js\";import{newToolIntersector as L}from\"../../../interactive/ToolIntersector.js\";import{createScreenPointArrayFromEvent as k}from\"../../../support/screenUtils.js\";const R=Symbol(\"interactionVisuals\");let W=class extends P{constructor(e){super(e),this.removeIncompleteOnCancel=!1,this.automaticManipulatorSelection=!1,this._stagedViewshed=null,this._stagedViewshedComputedData=null,this._placementMode=B,this._creationState=!1,this._interactionVisualElements=null,this._settings=new M({getTheme:()=>this.view.effectiveTheme}),this._selectedManipulator=null}initialize(){this._intersector=L(this.view.state.viewingMode),this._createInteractionVisuals();const e=this.analysisViewData.viewshedComputedDataHandles;this.subToolHandles=s(()=>e,({viewshedComputedData:e})=>{const t=new C({analysis:this.analysis,analysisViewData:this.analysisViewData,parentTool:this,view:this.view,viewshedComputedData:e});return{subTool:t,remove:()=>{this.selectedViewshed===e.viewshed&&(this.selectedViewshed=null),t.destroy()}}}),this.addHandles([n(()=>this._valid,()=>this.finishToolCreation(),r),l(()=>this._stagedViewshed,e=>{const t=this.analysisViewData.viewshedComputedDataHandles;this._stagedViewshedComputedData=null!=e&&null!=t?this._findSubTool(e)?.viewshedComputedData:null},r),this.analysis.viewsheds.on(\"after-remove\",e=>{const t=this._stagedViewshed;null!=t&&e.item===t&&this.analysis.viewsheds.add(t)}),l(()=>this.firstGrabbedManipulator,e=>{if(null!=e){const t=this._findSubTool(e)?.viewshed;this.selectedViewshed=t,this._selectManipulator(e)}else this._selectedSubTool?.onManipulatorSelectionChanged()},d),l(()=>this.view.activeTool,e=>{e!==this&&null!=e&&(this.selectedViewshed=null)}),n(()=>{const e=this.selectedViewshedComputedData;return null==e?null:{subTool:this._selectedSubTool,observer:e.observerRenderSpace,target:e.targetRenderSpace}},e=>{const{subTool:t,observer:i,target:s}=e;t?.moveInteractionState.dragging?this._updateInteractionVisualsLocation(i,!0):t?.scaleOrientInteractionState.dragging&&this._updateInteractionVisualsLocation(s,!1)},c),l(()=>this.creating,()=>this.updateInteractionVisualsVisibility()),l(()=>this.selectedViewshed,e=>{const t=this._selectedManipulator,i=this._selectedSubTool;null==e?this._selectManipulator(null):null!=t&&i.hasManipulator(t)||this._selectManipulator(i.discManipulator)},c)])}destroy(){this.subToolHandles=o(this.subToolHandles),this.removeHandles(R)}onDeactivate(){this.removeStaged(),this._creationState=!1}get _valid(){return this.analysisViewData.viewshedComputedDataHandles?.some(e=>e.viewshedComputedData.valid)??!1}get cursor(){return this.creating?\"crosshair\":null}get _selectedSubTool(){return this._findSubTool(this.selectedViewshed)}_selectManipulator(e){const t=this._selectedManipulator;t!==e&&(this._selectedManipulator=e,null!=t&&(t.selected=!1),null!=e&&(e.selected=!0),this._findSubTool(t)?.onManipulatorSelectionChanged(),this._selectedSubTool?.onManipulatorSelectionChanged())}get selectedViewshed(){return this.analysisViewData.selectedViewshed}set selectedViewshed(e){this.analysisViewData.selectedViewshed=e}get selectedViewshedComputedData(){return this._selectedSubTool?.viewshedComputedData}get stagedViewshed(){return this._stagedViewshed}get grabbing(){return this.subToolHandles.some(({subTool:e})=>e.grabbing)}get creating(){return this._creationState&&this.active}get isPlacingTarget(){return\"placing-target\"===this._creationState}place(e){this.selectedViewshed=null,this._placementMode=e,this._creationState=\"placing-observer\",this._finishToolCreationIfValid()}onManipulatorSelectionChanged(){this.subToolHandles.forEach(e=>e.subTool.onManipulatorSelectionChanged())}onInputEvent(e){switch(e.type){case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e);break;case\"key-down\":E.cancel===e.key?this._cancelKeyHandler(e):E.delete.includes(e.key)&&this._deleteKeyHandler();break;case\"hold\":this.updateInteractionVisualsVisibility(!0)}}onInputEventAfter(e){if(\"immediate-click\"===e.type)this._clickPlacementHandler(e)}onActivate(){this._placementMode=B}_clickPlacementHandler(e){if(!this.creating||this.hasFocusedManipulators)return;const i=this._intersectScreen(e,G);if(null!=i){if(\"placing-observer\"===this._creationState){i.mapPoint.z=(i.mapPoint.z??0)+T;const e=new t({observer:i.mapPoint.clone(),feature:i.feature});this.analysis.viewsheds.add(e),this._stagedViewshed=e,this._creationState=\"placing-target\",this._updateStagedViewshed(i.scenePoint)}else if(\"placing-target\"===this._creationState){this._updateStagedViewshed(i.scenePoint);const e=this._stagedViewshed;this._stagedViewshed=null,\"multiple\"===this._placementMode?this._creationState=\"placing-observer\":(this._creationState=!1,this._stagedViewshed=null,this._finishToolCreationIfValid(),this.view.activeTool=null),this.selectedViewshed=e}e.stopPropagation()}}_doubleClickHandler(e){this.creating&&(this.removeStaged(),this._creationState=!1,this.view.activeTool=null,e.stopPropagation())}_pointerMoveHandler(e){if(!this.creating)return;const t=this._intersectScreen(e,G);null!=t&&(this._updateInteractionVisualsLocation(t.scenePoint,!1),this._updateStagedViewshed(t.scenePoint))}_cancelKeyHandler(e){this.creating?this._onCancelWhileCreating(e):this.grabbing||(this.selectedViewshed=null,e.stopPropagation())}_onCancelWhileCreating(e){const t=this.removeStaged();this._finishToolCreationIfValid(),t?(this._creationState=\"placing-observer\",this.selectedViewshed=null,\"multiple\"===this._placementMode&&e.stopPropagation()):this._creationState=!1}_deleteKeyHandler(){this.creating&&(this.removeStaged(),this._creationState=\"placing-observer\"),null!=this.selectedViewshed&&this.analysis.viewsheds.remove(this.selectedViewshed)}_finishToolCreationIfValid(){this._valid&&this.finishToolCreation()}_updateStagedViewshed(e){const t=this._stagedViewshed,i=this._stagedViewshedComputedData;if(null==t||null==i)return;const{heading:s,tilt:a,farDistance:o}=x(this.view,i,e);t.farDistance=o,t.tilt=a,t.heading=s}removeStaged(){const e=this._stagedViewshed;return null!=e&&(this._stagedViewshed=null,this.analysis.viewsheds.remove(e),!0)}_intersectScreen(e,t){const i=k(e);this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(i,this._intersector);const s=this._intersector.results.min,a=t.scenePoint;if(!s.getIntersectionPoint(a))return null;const o=t.mapPoint;return o.spatialReference=this.view.spatialReference,this.view.renderCoordsHelper.fromRenderCoords(a,o),null==o?null:(t.feature=I(s,this.view),t)}_createInteractionVisuals(){this.removeHandles(R);const e=this._settings.visualElements,t=new H({view:this.view,attached:!1,style:{glowWidth:e.heightPlane.glowWidth,innerWidth:e.heightPlane.innerWidth},isDecoration:!0}),s=new j({view:this.view,extensionType:e.zVerticalLine.extensionType,attached:!1,innerWidth:1,writeDepthEnabled:!1,renderOccluded:4,isDecoration:!0});this._interactionVisualElements={laserline:t,verticalLine:s},this.addHandles([l(()=>e.zVerticalLine,e=>e.apply(s),r),l(()=>e.heightPlane,e=>e.apply(t),r),i(()=>{t.destroy(),s.destroy(),this._interactionVisualElements=null})],R)}updateInteractionVisualsVisibility(e=!1){const t=this.creating,i=this.analysisViewData.visible,s=this._selectedSubTool,a=this.selectedViewshedComputedData,o=(e,t)=>{const i=this._interactionVisualElements;null!=i&&(i.verticalLine.attached=t,i.laserline.attached=e)};if(t)return void o(i,!1);if(null==s||null==a)return void o(!1,!1);const n=s.moveInteractionState,l=e?n.grabbing:n.dragging,r=s.scaleOrientInteractionState,d=e?r.grabbing:r.dragging,c=i&&(l||d);if(o(c,l),c){const e=l?a.observerRenderSpace:a.targetRenderSpace;this._updateInteractionVisualsLocation(e,l)}}_updateInteractionVisualsLocation(e,t){const i=this._interactionVisualElements;if(null==i)return;const{laserline:s,verticalLine:a}=i;s.heightManifoldTarget=e,s.intersectsWorldUpAtLocation=t?e:null,null!=e&&a.setStartEndFromWorldDownAtLocation(e)}_findSubTool(e){if(null==e)return null;const t=e instanceof D?t=>t.subTool.hasManipulator(e):t=>t.subTool.viewshed===e;return this.subToolHandles?.find(t)?.subTool}get test(){}};function x(e,t,i){const s=t.observerRenderSpace,o=m(O,i,s),n=g(o)*t.metersPerUnit,l=e.renderCoordsHelper.basisMatrixAtPosition(s,K),r=v(U,l[8],l[9],l[10]),d=b(s,r,F),c=S(d,i,A),h=m(c,c,s),u=(g(h)<1e-4?90:a(w(o,h)))*(_(r,o)<0?-1:1)+90,p=v(z,l[4],l[5],l[6]),V=a(w(p,h)),f=v(z,l[0],l[1],l[2]);return{heading:_(h,f)<0?360-V:V,tilt:u,farDistance:n}}e([h({constructOnly:!0})],W.prototype,\"view\",void 0),e([h()],W.prototype,\"analysisViewData\",void 0),e([h()],W.prototype,\"removeIncompleteOnCancel\",void 0),e([h()],W.prototype,\"automaticManipulatorSelection\",void 0),e([h({constructOnly:!0})],W.prototype,\"analysis\",void 0),e([h()],W.prototype,\"subToolHandles\",void 0),e([h()],W.prototype,\"_stagedViewshed\",void 0),e([h()],W.prototype,\"_stagedViewshedComputedData\",void 0),e([h()],W.prototype,\"_placementMode\",void 0),e([h()],W.prototype,\"_creationState\",void 0),e([h()],W.prototype,\"_valid\",null),e([h({readOnly:!0})],W.prototype,\"cursor\",null),e([h()],W.prototype,\"_selectedManipulator\",void 0),e([h()],W.prototype,\"_selectedSubTool\",null),e([h()],W.prototype,\"selectedViewshed\",null),e([h()],W.prototype,\"selectedViewshedComputedData\",null),e([h()],W.prototype,\"stagedViewshed\",null),e([h()],W.prototype,\"grabbing\",null),e([h()],W.prototype,\"creating\",null),e([h()],W.prototype,\"isPlacingTarget\",null),W=e([u(\"esri.views.3d.analysis.Viewshed.ViewshedTool\")],W);const O=V(),U=V(),A=V(),z=V(),K=p(),F=y(),G={mapPoint:new f,scenePoint:V(),feature:null},B=\"multiple\";export{W as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{deg2rad as t}from\"../../../../core/mathUtils.js\";import{fromScaling as e,mul as r,fromTranslation as s,fromRotation as o}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{j as a,d as n,t as l}from\"../../../../chunks/vec32.js\";import{fromValues as m,create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{viewshedVisualizationConfiguration as f,arcAnglePerSegment as h}from\"./ViewshedConfiguration.js\";import{getViewshedRotationMatrix as p,rotateBy as u}from\"./viewshedToolUtils.js\";import{Object3DVisualElement as d}from\"../../interactive/visualElements/Object3DVisualElement.js\";import{Attribute as w}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as v}from\"../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as j}from\"../../webgl-engine/materials/ColorMaterial.js\";class D extends d{constructor(t){super(t),this._material=null,this._viewshedComputedData=null,this._material=new j({...f.shapeMaterialParameters,isDecoration:this.isDecoration,writeDepth:!1}),this.applyProperties(t)}get viewshedComputedData(){return this._viewshedComputedData}set viewshedComputedData(t){this._viewshedComputedData=t,this.updateTransform()}updateTransform(){const t=this._viewshedComputedData;if(null==t)return;const o=i(),a=t.farDistanceRenderSpace;e(o,m(a,a,a)),p(t,M),r(o,M,o),s(M,this._viewshedComputedData.observerRenderSpace),r(o,M,o),this.transform=o}createExternalResources(){}destroyExternalResources(){}forEachMaterial(t){t(this._material)}createGeometries(t){const{_material:e,viewshedComputedData:r}=this;if(null==r||null==e||!r.valid)return;b(e,r).forEach(e=>t.addGeometry(e))}}function b(e,r){const{horizontalFieldOfView:s,verticalFieldOfView:i}=r,m=a(C,0,0,1),c=a(_,0,1,0),f=a(x,1,0,0);u(m,m,t(i/2),c),u(m,m,t(s/2),f);const p=t=>Math.ceil(Math.abs(t)/h)+1,d=t(s),j=n(E,f),D=p(d),b=g(-d/(D-1)),R=o(M,b,j),V=t(-i),G=p(V),O=g(V/(G-1)),T=n(_,c),F=o(y,t(s)/2,f);l(T,T,F);const N=y,P=[],S=n(x,m);for(let t=0;t<D;t++){o(N,O,T);for(let e=0;e<G;e++){const r=3*(e*D+t);P[r]=S[0],P[r+1]=S[1],P[r+2]=S[2],l(S,S,N)}l(T,T,R),l(m,m,R),n(S,m)}const U=D*G;P[3*U]=0,P[3*U+1]=0,P[3*U+2]=0;const k=[];for(let t=0;t<D-1;t++)for(let e=0;e<G-1;e++){const r=6*(e*(D-1)+t);k[r]=e*D+t,k[r+1]=(e+1)*D+t,k[r+2]=e*D+t+1,k[r+3]=e*D+t+1,k[r+4]=(e+1)*D+t,k[r+5]=(e+1)*D+t+1}const z=[k];if(360!==s&&0!==i){const t=[],e=[];for(let r=0;r<G-1;r++){const s=3*r;t[s]=U,t[s+1]=(r+1)*D,t[s+2]=r*D,e[s]=U,e[s+1]=r*D+D-1,e[s+2]=(r+1)*D+D-1}z.push(t,e)}if(180!==i&&0!==s){const t=[],e=[];for(let r=0;r<D-1;r++){const s=3*r;t[s]=U,t[s+1]=r,t[s+2]=r+1,e[s]=U,e[s+1]=r+(G-1)*D+1,e[s+2]=r+(G-1)*D}z.push(t,e)}return z.map(t=>{const r=[[\"position\",new w(P,t,3,!0)]];return new v(e,r)})}function g(t){return isNaN(t)?1:t}const C=c(),_=c(),x=c(),E=c(),M=i(),y=i();export{D as ViewshedShapeVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../Color.js\";import i from\"../../../../core/Accessor.js\";import\"../../../../core/has.js\";import{equals as s}from\"../../../../core/lang.js\";import{deg2rad as o}from\"../../../../core/mathUtils.js\";import{destroyMaybe as r}from\"../../../../core/maybe.js\";import{watch as a,initial as l}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as h}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as d,j as u,a as p,H as _,n as V,h as f,p as v,u as w,d as E,g as b}from\"../../../../chunks/vec32.js\";import{create as g,clone as C}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{viewshedVisualizationConfiguration as L,arcAnglePerSegment as A}from\"./ViewshedConfiguration.js\";import{ViewshedShapeVisualElement as D}from\"./ViewshedShapeVisualElement.js\";import y from\"./ViewshedTool.js\";import{LineVisualElement as j}from\"../../interactive/visualElements/LineVisualElement.js\";import{PointVisualElement as F}from\"../../interactive/visualElements/PointVisualElement.js\";import{createStipplePatternSimple as R}from\"../../webgl-engine/materials/lineStippleUtils.js\";let S=class extends i{constructor(e){super(e),this.visible=!0,this._viewshedCorners={topLeft:g(),topRight:g(),bottomLeft:g(),bottomRight:g()},this._arcCenterPoints={top:g(),bottom:g(),left:g(),right:g()},this._parallelCenters={top:g(),bottom:g()}}initialize(){const e={view:this.view,isDecoration:!0},t={...e,color:this._color,renderOccluded:4},i={...t,stipplePattern:R(2)};this._observerVisualElement=new F({...e,...L.observerPointConfiguration}),this._shapeVisualElement=new D({...e,isDecoration:this.isDecoration}),this._frameLinesVisualElement=new j(t),this._leftArcVisualElement=new j(t),this._rightArcVisualElement=new j(t),this._topArcVisualElement=new j(t),this._bottomArcVisualElement=new j(t),this._centralLongitude=new j(i),this._centralLatitude=new j(i),this.addHandles([a(()=>{const e=this.viewshedComputedData;if(!e?.valid)return null;const t=this._viewshedCorners,i=this._arcCenterPoints,s=this._parallelCenters;return e.cornerPoints(t),e.arcCentersPoints(i),e.parallelCenterPoints(s),{viewshedComputedData:e,corners:t,arcCenters:i,parallelCenters:s,interactive:this.analysisViewData.interactive,selected:this._selected}},e=>{const t=null!=e;this._forEachVisualElement(e=>e.attached=t),t&&this._updateVisualElements(e)},{initial:!0,equals:s}),a(()=>{const{viewshedComputedData:e}=this,{horizontalFieldOfView:t,verticalFieldOfView:i}=e??{};return{viewshedComputedData:e,horizontalFieldOfView:t,verticalFieldOfView:i}},({viewshedComputedData:e})=>{const{_shapeVisualElement:t}=this;e!==t.viewshedComputedData&&(t.viewshedComputedData=e),this._shapeVisualElement.recreateGeometry()},l),a(()=>{const{interactive:e}=this.analysisViewData;return{visible:this.visible,selected:e&&this._selected,staged:e&&this._staged,horFovNot360:360!==this.viewshedComputedData?.horizontalFieldOfView}},({visible:e,selected:t,staged:i,horFovNot360:s})=>{const o=t||i;this._shapeVisualElement.visible=e,this._topArcVisualElement.visible=e,this._bottomArcVisualElement.visible=e,this._frameLinesVisualElement.visible=e&&s;const r=e&&(t||s);this._leftArcVisualElement.visible=r,this._rightArcVisualElement.visible=r,this._forEachLineVisualElement(e=>{e.width=o?L.frameWidthSelected:L.frameWidthNotSelected,e.renderOccluded=t?4:1}),[this._centralLatitude,this._centralLongitude].forEach(i=>{i.width=2*(o?L.frameWidthSelected:L.frameWidthNotSelected),i.visible=e&&t})},l),a(()=>{const{analysisViewData:{interactive:e,tool:t},_selected:i,visible:s}=this,o=this.view.activeTool,r=!t?.active&&o instanceof y&&o.creating;return{observerVisible:s&&!i&&(!e||(t?.creating??!1)||r),color:this._color}},({observerVisible:e,color:t})=>{this._observerVisualElement.visible=e,this._forEachLineVisualElement(e=>e.color=t)},l)])}get _color(){const{viewshedComputedData:e,_selected:i,analysisViewData:s}=this;if(null==e)return t.toUnitRGBA(L.frameColor);const o=s.tool?.active||s.interactive,r=e.viewshed===s.tool?.stagedViewshed,a=o&&(i||r)?this.view.effectiveTheme.accentColor:L.frameColor;return t.toUnitRGBA(a)}get _selected(){const{viewshedComputedData:e,analysisViewData:{selectedViewshedComputedData:t}}=this;return null!=e&&e===t}get _staged(){const{analysisViewData:{tool:e},viewshedComputedData:t}=this;return null!=e&&e.creating&&e.stagedViewshed===t?.viewshed}destroy(){this._observerVisualElement=r(this._observerVisualElement),this._shapeVisualElement=r(this._shapeVisualElement),this._frameLinesVisualElement=r(this._frameLinesVisualElement),this._leftArcVisualElement=r(this._leftArcVisualElement),this._rightArcVisualElement=r(this._rightArcVisualElement),this._topArcVisualElement=r(this._topArcVisualElement),this._bottomArcVisualElement=r(this._bottomArcVisualElement),this._centralLongitude=r(this._centralLongitude),this._centralLatitude=r(this._centralLatitude)}_forEachLineVisualElement(e){[this._frameLinesVisualElement,this._leftArcVisualElement,this._rightArcVisualElement,this._topArcVisualElement,this._bottomArcVisualElement,this._centralLatitude,this._centralLongitude].forEach(e)}_forEachVisualElement(e){this._forEachLineVisualElement(e),e(this._observerVisualElement),e(this._shapeVisualElement)}_updateVisualElements(e){const{viewshedComputedData:t,corners:i,arcCenters:s,parallelCenters:o}=e,r=C(t.observerRenderSpace);this._observerVisualElement.geometry=t.observer,this._shapeVisualElement.updateTransform(),this._updateFrameLines(r,i),this._updateFrameArcs(t,i,o),this._updateCentralHelperArcs(t,s)}_updateFrameLines(e,t){this._frameLinesVisualElement.geometry=[[e,t.topLeft],[e,t.topRight],[e,t.bottomLeft],[e,t.bottomRight]]}_updateFrameArcs(e,t,i){const{observerRenderSpace:s,rightVector:r,horizontalFieldOfView:a,tiltedUpVector:l}=e,n=o(a),c=g(),p=m();h(p,n/2,l),d(c,r,p),O(this._leftArcVisualElement,s,t.bottomLeft,t.topLeft,\"forward\",c),h(p,-n/2,l),u(c,0,0,0),d(c,r,p),O(this._rightArcVisualElement,s,t.bottomRight,t.topRight,\"forward\",c);const _=a>180?\"backward\":\"forward\";O(this._topArcVisualElement,i.top,t.topRight,t.topLeft,_,l),O(this._bottomArcVisualElement,i.bottom,t.bottomRight,t.bottomLeft,_,l)}_updateCentralHelperArcs(e,t){const i=e.observerRenderSpace,s=e.horizontalFieldOfView>=180?\"backward\":\"forward\";O(this._centralLatitude,i,t.right,t.left,s,e.tiltedUpVector),O(this._centralLongitude,i,t.top,t.bottom,\"forward\",e.leftVector)}get test(){}};function O(e,t,i,s,o,r,a=A){const l=g();p(l,i,t);const n=_(l),c=g();p(c,s,t),V(c,c),f(c,c,n);let u=v(l,c);const L=C(r);\"backward\"===o&&(w(L,L),u=-(2*Math.PI-u));const D=[],y=Math.ceil(Math.abs(u)/a),j=m();h(j,u/y,L);const F=g();E(F,l);const R=g();E(R,i);for(let h=0;h<y;h++){const e=g();E(e,R),d(F,F,j),b(R,t,F);const i=g();E(i,R),D.push([e,i])}e.geometry=D}e([n()],S.prototype,\"view\",void 0),e([n({constructOnly:!0})],S.prototype,\"isDecoration\",void 0),e([n()],S.prototype,\"analysisViewData\",void 0),e([n()],S.prototype,\"viewshedComputedData\",void 0),e([n()],S.prototype,\"visible\",void 0),e([n()],S.prototype,\"_color\",null),e([n()],S.prototype,\"_selected\",null),e([n()],S.prototype,\"_staged\",null),S=e([c(\"esri.views.3d.analysis.Viewshed.ViewshedSubVisualization\")],S);export{S as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as i}from\"tslib\";import s from\"../../../../core/Accessor.js\";import{destroyHandle as o}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{mapCollection as t}from\"../../../../core/mapCollectionUtils.js\";import{watch as e,initial as r}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"./ViewshedSubVisualization.js\";let c=class extends s{get visible(){return this.analysisViewData.visible}constructor(i){super(i)}initialize(){const i=this.analysisViewData,s=t(()=>this.analysisViewData.viewshedComputedDataHandles,({viewshedComputedData:s})=>{const o=new n({view:this.view,viewshedComputedData:s,analysisViewData:i,isDecoration:this.isDecoration});return{visualization:o,remove:()=>o.destroy()}});this._subVisualizations=s,this.addHandles([o(s),e(()=>this.visible,i=>this._subVisualizations.forEach(({visualization:s})=>s.visible=i),r)])}get test(){}};i([a({constructOnly:!0})],c.prototype,\"analysisViewData\",void 0),i([a({constructOnly:!0,nonNullable:!0})],c.prototype,\"view\",void 0),i([a({constructOnly:!0})],c.prototype,\"isDecoration\",void 0),i([a()],c.prototype,\"visible\",null),c=i([l(\"esri.views.3d.analysis.Viewshed.ViewshedVisualization\")],c);export{c as ViewshedVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import{rad2deg as o,deg2rad as e}from\"../../../../core/mathUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{mul as i,fromTranslation as n,fromScaling as a}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as l,fromArray as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import m from\"../../webgl/RenderCamera.js\";import{assert as h}from\"./Util.js\";let g=class extends m{constructor(){super(...arguments),this.sectionAngles=l()}get sectionAnglesDeg(){return p(this.sectionAngles.map(t=>o(t)))}set sectionAnglesDeg(t){this.sectionAngles=p(t.map(t=>e(t)))}get projectionMatrix(){return i(c(),this.sectionMatrix,this._projectionMatrixInternal)}get sectionMatrix(){const t=this.sectionAngles[0],o=this.sectionAngles[1],e=this.sectionAngles[2],s=this.sectionAngles[3];h(t<=o),h(e<=s);const r=2*Math.tan(this.fovX/2),l=2*Math.tan(this.fovY/2),p=Math.tan(t),m=Math.tan(o),g=Math.tan(e),f=m-p,M=Math.tan(s)-g,j=r/f,u=l/M,A=-(p+f/2)/r*2,x=-(g+M/2)/l*2,b=c();n(b,[A,x,0]);const d=c();a(d,[j,u,1]);const v=c();return i(v,d,b)}get _sectionRatioX(){const t=Math.tan(this.sectionAngles[0]),o=Math.tan(this.sectionAngles[1]),e=2*Math.tan(this.fovX/2);return Math.min(1,(o-t)/e)}setViewport(t,o){const e=o*this._sectionRatioX;return this.viewport=[t[0],t[1],e,o],e}};t([s()],g.prototype,\"sectionAngles\",void 0),t([s()],g.prototype,\"sectionAnglesDeg\",null),t([s()],g.prototype,\"projectionMatrix\",null),t([s()],g.prototype,\"sectionMatrix\",null),t([s()],g.prototype,\"_sectionRatioX\",null),g=t([r(\"esri.views.3d.webgl-engine.lib.ViewshedFaceCamera\")],g);export{g as ViewshedFaceCamera};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{releaseMaybe as e}from\"../../../../core/maybe.js\";import{fromRotation as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as r,g as a,u as o,t as h}from\"../../../../chunks/vec32.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{applyTextureResizeModulo as n}from\"./textureUtils.js\";import{ViewshedFaceCamera as l}from\"./ViewshedFaceCamera.js\";import{DepthStencilAttachment as u,SizedDepthFormat as m}from\"../../../webgl/enums.js\";import{isSizedDepthStencilFormat as f}from\"../../../webgl/textureUtils.js\";class d{constructor(){this.textureSizeQuality=1,this.textureSizeModHighQuality=1.3,this.textureSizeModLowQuality=.9,this.textureSizeMultiple=128,this.toleranceSides=5,this.toleranceBottomTop=10}textureSizeModifier(t){const e=t?this.textureSizeModHighQuality:this.textureSizeModLowQuality;return this.textureSizeQuality*e}textureResizeModulo(t){return Math.ceil(t/this.textureSizeMultiple)*this.textureSizeMultiple}}const p=[\"front\",\"left\",\"right\",\"back\",\"top\",\"bottom\"];function g(t){return![\"top\",\"bottom\"].includes(t)}class _{constructor(t){this._fbos=t,this._faces={},this._width=0,this._height=0,this.settings=new d,this._maxTextureSize=Math.min(has(\"esri-mobile\")?4096:16384,t.rctx.parameters.maxTextureSize)}get depthTexture(){return this._handle?.getTexture(u)}get ready(){return null!=this.depthTexture&&0!==this._width&&0!==this._height}get nearFar(){const t=this.faces;return 0===t.length?null:t[0].nearFar}get numActiveFaces(){const t=this._faces;let e=0;return Object.keys(t).forEach(i=>{t[i]&&(e+=1)}),e}get faces(){const t=this._faces,e=[];for(const i of p){const s=t[i];s&&e.push(s)}return e}get atlasRegions(){return this.faces.map(t=>[t.x/this._width,(t.x+t.width)/this._width,t.y/this._height,(t.y+t.height)/this._height])}get viewshedProjectionMatrices(){return this.faces.map(t=>t.projectionMatrix)}get viewshedViewMatrices(){return this.faces.map(t=>t.viewMatrix)}_setupFaceCamera(e,n,u,m){const{effectiveObserverRenderSpace:f,tiltedUpVector:d,targetRenderSpace:p,farDistanceRenderSpace:_,horizontalFieldOfView:x,verticalFieldOfView:w}=n,b=c();r(b,p,f);const M=c(),S=c(),F=(t,e)=>{const r=c(),o=s();return i(o,t,e),h(r,b,o),a(r,f,r),r};let z,T=d;const v=Math.min(90,x),O=Math.min(90,Math.max(0,(x-90)/2));let j=-45,B=45,y=-45,k=45;if(g(e)){const e=e=>t(e,-45,45);y=e(-w/2)-this.settings.toleranceBottomTop,k=e(+w/2)+this.settings.toleranceBottomTop}switch(e){case\"front\":z=p,j=-v/2,B=v/2;break;case\"left\":z=F(Math.PI/2,d),j=45-O;break;case\"right\":z=F(-Math.PI/2,d),B=-45+O;break;case\"top\":z=a(M,f,d),T=o(S,b);break;case\"bottom\":z=r(M,f,d),T=b;break;case\"back\":z=F(Math.PI,d)}const V=new l({center:z,eye:f,up:T,far:_});V.sectionAnglesDeg=[j-this.settings.toleranceSides,B+this.settings.toleranceSides,y,k],V.fovY=Math.PI/2;const P=V.setViewport(u,m);return this._faces[e]=V,P}isActive(t){return this._computeActiveFaces(t).size>0}_computeActiveFaces(t){const e=new Set,{horizontalFieldOfView:i,verticalFieldOfView:s}=t,r=-s/2,a=s/2;return 0===i||0===s||(r<=45&&a>=-45&&e.add(\"front\"),i>90&&(e.add(\"left\"),e.add(\"right\")),i>270&&e.add(\"back\"),a>45-this.settings.toleranceBottomTop&&e.add(\"top\"),r<-45+this.settings.toleranceBottomTop&&e.add(\"bottom\")),e}_computeBaseTextureSize({pixelRatio:t,fullWidth:e,fullHeight:i},s,r,a){const o=s/t,h=this.settings.textureSizeModifier(r);return n(Math.max(e,i)*o*h,this._maxTextureSize/a)}_ensureFBO(t){const e=this._width,i=this._height,s=this._handle?.fbo;s&&s.width===e&&s.height===i&&t===f(s.depthStencilTexture?.descriptor?.internalFormat??m.DEPTH_COMPONENT16)||(this._handle?.release(),this._handle=this._allocateFBO(t))}_allocateFBO(t){const{_width:e,_height:i}=this,s=t?13:12,r=this._fbos.acquire(e,i,\"viewshed shadow map\",s);return r.getTexture(u)?.setShadowFiltering(!1),r}clearFBO(t){const e=this._fbos.rctx;this._ensureFBO(t),e.bindFramebuffer(this._handle?.fbo),e.setClearColor(1,1,1,1),e.clear(16640)}dispose(){this._debugFBO||(this._handle=e(this._handle))}start(t,e,i,s,r=!1){this._faces={};const a=this._computeActiveFaces(e),o=a.size;if(0===o)return!1;const h=this._computeBaseTextureSize(t,s,i,o);let c=0,n=0,l=0;return p.filter(t=>a.has(t)).forEach(t=>{const i=x(t,o);i>n&&(l=Math.max(l,c),c=0),n=i;const s=i*h;c+=this._setupFaceCamera(t,e,[c,s],h)}),l=Math.max(l,c),this._width=this.settings.textureResizeModulo(l),this._height=w(o)*h,this.clearFBO(r),!0}finish(){}get test(){}}function x(t,e){if(e<4)return 0;const i=\"front\"===t||\"left\"===t;return 4===e?i?0:1:i||\"right\"===t?0:1}function w(t){return t<4?1:2}export{_ as ViewshedShadowMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Pos2Locations as o}from\"../lib/DefaultVertexBufferLayouts.js\";import{a as i}from\"../../../../chunks/Viewshed.glsl.js\";import{makePipelineState as s,unpremultipliedAlphaToPremultipliedAlpha as t,defaultColorWrite as l}from\"../../../webgl/renderState.js\";class a extends r{constructor(r,s){super(r,s,new e(i,()=>import(\"./Viewshed.glsl.js\")),o)}initializePipeline(){return s({colorWrite:l,blending:t})}}export{a as ViewshedTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import s from\"../../../../core/Collection.js\";import{deg2rad as t}from\"../../../../core/mathUtils.js\";import{disposeMaybe as r}from\"../../../../core/maybe.js\";import{watch as i,when as o,initial as a,sync as n}from\"../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{translate as c,fromTranslation as p,scale as w,mul as l}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as u,k as f}from\"../../../../chunks/vec32.js\";import{create as v,fromValues as _}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{j as V}from\"../../../../chunks/sphere.js\";import{InternalRenderCategory as g}from\"../../webgl.js\";import M from\"../../webgl/RenderNode.js\";import{ViewshedShadowMap as b}from\"./ViewshedShadowMap.js\";import{V as S}from\"../../../../chunks/Viewshed.glsl.js\";import{ViewshedTechnique as y}from\"../shaders/ViewshedTechnique.js\";let j=class extends M{get shadowMap(){return this._shadowMap}get hasViewsheds(){return this._viewsheds.length>0}get _contentPixelRatio(){return this.view.state.contentPixelRatio}get _viewshedsInView(){return this._viewsheds.items.filter(e=>x(this.view,e))}constructor(e){super(e),this.isDecoration=!1,this._passParameters=new S,this._viewsheds=new s,this._shadowMap=null,this.consumes={required:[g.VIEWSHED,\"normals\"]},this.produces=g.VIEWSHED,this.requireGeometryDepth=!0}initialize(){this._shadowMap=new b(this.fboCache),this.addHandles([i(()=>this.view.resolutionScale,e=>{const s=this._shadowMap;s&&(s.settings.textureSizeQuality=e)},a),o(()=>!this.hasViewsheds,()=>this._shadowMap?.dispose()),i(()=>this._viewshedsInView.map(e=>[e.observerRenderSpace,e.heading,e.tilt,e.farDistance,e.horizontalFieldOfView,e.verticalFieldOfView]),()=>this.requestRender(1),n)])}destroy(){this._shadowMap=r(this._shadowMap)}precompile(){if(this.hasViewsheds){this.techniques.precompile(y);for(const e of this._viewshedsInView)if(this._shadowMap?.isActive(e))return void this.view.stage.renderer.precompileViewshedShadowMap()}}render(e){const s=this.bindParameters,t=this.renderingContext,r=e.find(({name:e})=>e===g.VIEWSHED);if(!this.hasViewsheds||!s.depth||this.isDecoration&&!s.decorations)return r;this._passParameters.shadowMap=this._shadowMap??this._passParameters.shadowMap,this._passParameters.normals=e.find(({name:e})=>\"normals\"===e)?.getTexture();const i=this.techniques.get(y);if(!i?.compiled)return this.requestRender(1),r;const o=this.view.stage.renderer.isFeatureEnabled(7);for(const a of this._viewshedsInView){if(!this._renderShadowCubeMap(s,a,o)||!this._shadowMap?.ready)continue;const e=this._setupViewshedParameters(a,s.camera);t.bindTechnique(i,s,e),t.bindFramebuffer(r.fbo),t.screen.draw()}return this.shadowMap?.dispose(),r}updateViewsheds(e){const s=this._viewsheds,{removes:t,adds:r}=e;if(t&&(Array.isArray(t)?s.removeMany(t):s.remove(t)),r)if(Array.isArray(r)){const e=r.filter(e=>!s.includes(e));s.addMany(e)}else s.includes(r)||s.add(r)}_renderShadowCubeMap(e,s,t){const r=this._shadowMap;if(!r)return!1;const i=this.view.basemapTerrain.hasStencilEnabledExtents,o=r.start(e.camera,s,t,this._contentPixelRatio,i);return o&&r.faces.forEach(e=>this.view.stage.renderer.renderViewshedShadowMap(e)),r.finish(),o}_setupViewshedParameters(e,s){const r=this._shadowMap;if(!r)return this._passParameters;const i=this._passParameters,o=e.effectiveObserverRenderSpace;i.localOrigin=o,i.observerOffset=u(E,e.observerRenderSpace,e.effectiveObserverRenderSpace),i.fovs=[t(e.horizontalFieldOfView),t(e.verticalFieldOfView)],i.headingAndTilt=[t(e.heading),t(e.tiltParallelToSurface)],i.upVector=e.tiltedUpVector;const a=R(e.targetRenderSpace,o);i.targetVector=a;const n=new Array,h=new Array;for(let t=0;t<r.numActiveFaces;t++)c(I,r.viewshedViewMatrices[t],o),n.push(...I),P(r.viewshedProjectionMatrices[t],I,D),h.push(...D);return i.viewMatrices=n,i.projectionMatrices=h,i.volumeOffset=this.selectedViewshed?.()===e.viewshed?A(e,this.view,s.eye):0,i}get test(){return{viewsheds:this._viewsheds,shadowMap:this._shadowMap,viewshedsInView:this._viewshedsInView}}};function R(e,s){const t=v();return u(t,e,s)}function P(e,s,t){const r=_(.5,.5,.5);return p(t,r),w(t,t,r),l(t,t,e),l(t,t,s),t}function x(e,s){const t=V(s.observerRenderSpace,s.farDistanceRenderSpace);return!!e.ready&&e.frustum.intersectsSphere(t)}function A(e,s,t){if(null==e)return 0;const{observerRenderSpace:r,targetRenderSpace:i}=e,o=f(t,r)>f(t,i)?e.observer:e.target;return s.pixelSizeAt(o)}e([h()],j.prototype,\"selectedViewshed\",void 0),e([h()],j.prototype,\"isDecoration\",void 0),e([h()],j.prototype,\"shadowMap\",null),e([h()],j.prototype,\"hasViewsheds\",null),e([h()],j.prototype,\"_contentPixelRatio\",null),e([h()],j.prototype,\"_viewshedsInView\",null),e([h()],j.prototype,\"consumes\",void 0),e([h()],j.prototype,\"produces\",void 0),j=e([d(\"esri.views.3d.webgl-engine.lib.Viewshed\")],j);const E=v(),I=m(),D=m();export{j as Viewshed,A as computeOffsetScale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{getFeatureId as t,updatePointsFromFeatureReference as s}from\"../../../analysis/featureReferenceUtils.js\";import\"../../../core/has.js\";import i from\"../../../core/Logger.js\";import{mapCollection as r}from\"../../../core/mapCollectionUtils.js\";import{abortMaybe as o,destroyMaybe as a}from\"../../../core/maybe.js\";import{watch as d,initial as n,when as l,syncAndInitial as h}from\"../../../core/reactiveUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{d as u,q as m}from\"../../../chunks/vec32.js\";import{create as v}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{canProjectWithoutEngine as w,isLoaded as f,projectOrLoad as V}from\"../../../geometry/projectionUtils.js\";import{projectBoundingRect as y}from\"../../../geometry/projection/projectBoundingRect.js\";import{empty as _,containsPoint as g}from\"../../../geometry/support/aaBoundingRect.js\";import{AnalysisView3D as j}from\"./AnalysisView3D.js\";import{logFailedGeometryProjectionError as R}from\"./support/projectionUtils.js\";import{ViewshedComputedData as b}from\"./Viewshed/ViewshedComputedData.js\";import D from\"./Viewshed/ViewshedTool.js\";import{ViewshedVisualization as C}from\"./Viewshed/ViewshedVisualization.js\";import{Intersector as F}from\"../webgl-engine/lib/Intersector.js\";import{Viewshed as H}from\"../webgl-engine/lib/Viewshed.js\";import{connectAnalysisViewToTool as O,removeAnalysisViewTool as U,startPlaceOperation as S}from\"../../analysis/analysisViewUtils.js\";let A=class extends j{constructor(e){super(e),this.type=\"viewshed-view-3d\",this.analysis=null,this.tool=null,this._selectedViewshed=null,this.viewshedComputedDataHandles=null,this.userOperation=null,this._viewshedRenderNode=null,this._intersector=null}get visible(){return super.visible}set visible(e){super.visible=e}get interactive(){return super.interactive}set interactive(e){super.interactive=e}get selectedViewshed(){return this._selectedViewshed}set selectedViewshed(e){this._unselectOtherViewsheds(e),this._selectedViewshed=e}get selectedViewshedComputedData(){return this.tool?.selectedViewshedComputedData}get _isDecoration(){return!this.parent}initialize(){const e=this.view;this._viewshedRenderNode=new H({view:e,selectedViewshed:()=>this.selectedViewshed??this.tool?.stagedViewshed,isDecoration:this._isDecoration}),this._intersector=new F(this.view.state.viewingMode),this._intersector.options.hud=!1,this._intersector.options.store=0,this.viewshedComputedDataHandles=r(()=>this.analysis.viewsheds,t=>{const s=new b({renderCoordsHelper:e.renderCoordsHelper,viewshed:t}),r=Symbol();return this.addHandles([d(()=>({valid:s.valid,canProject:w(s.observer?.spatialReference,this.view.spatialReference)||f()}),({valid:e,canProject:t},r)=>{this.visible&&(e&&t?this._addViewshedsToRenderer(s):r?.valid&&r?.canProject&&this._removeViewshedsFromRenderer(s),t||R(this.analysis,s.observer.spatialReference,i.getLogger(this)))},n),...this._createFeatureReferenceHandles(s)],r),{viewshedComputedData:s,remove:()=>{this.removeHandles(r),this._removeViewshedsFromRenderer(s),s.destroy()}}}),this._visualization=new C({view:e,analysisViewData:this,isDecoration:this._isDecoration}),this.addHandles([d(()=>this.visible,e=>{const t=this.viewshedComputedDataHandles;if(null==t)return;e||(this.selectedViewshed=null);const s=t.map(e=>e.viewshedComputedData).filter(e=>e.valid).toArray();e?this._addViewshedsToRenderer(s):this._removeViewshedsFromRenderer(s)}),d(()=>e.renderCoordsHelper,e=>{this.viewshedComputedDataHandles?.forEach(({viewshedComputedData:t})=>t.renderCoordsHelper=e)}),O(this,D),l(()=>this.interactive,()=>{this._unselectOtherViewsheds(this.selectedViewshed)},h)])}destroy(){this.userOperation=o(this.userOperation),U(this),this._visualization=a(this._visualization);const e=this.viewshedComputedDataHandles;null!=e&&this._removeViewshedsFromRenderer(e.map(e=>e.viewshedComputedData).toArray())}_createFeatureReferenceHandles(e){const{view:t}=this;return[d(()=>[t.state.camera,t.slice.plane,e.viewshed.observer,e.targetRenderSpace,e.verticalFieldOfView,e.horizontalFieldOfView,e.feature],()=>{this._updateObserverFromFeature(t,e)},n),this._createElevationUpdateHandle(e),l(()=>e.needUpdateByFeature,()=>{this._updateObserverFromFeature(t,e),e.needUpdateByFeature=!1})]}_createElevationUpdateHandle(e){const t=(s,i)=>{const{view:r}=this,{observer:o}=e;if(null==o)return;const a=V(o,r.spatialReference);if(null!=a.pending)return void a.pending.finally(()=>t(s,i));const d=a.geometry;null!=d&&(y(s,i,z,r.spatialReference),g(z,[d.x,d.y])&&(e.needUpdateByFeature=!0))};return this.view.elevationProvider.on(\"elevation-change\",({extent:e,spatialReference:s})=>t(e,s))}async createViewsheds(e){await S(this,{placementOptions:e,onToolActivated:e=>e.place(\"multiple\")})}place(e){return S(this,{placementOptions:e,onToolActivated:e=>e.place(\"single\")})}_addViewshedsToRenderer(e){this._viewshedRenderNode.updateViewsheds({adds:e})}_removeViewshedsFromRenderer(e){this._viewshedRenderNode.updateViewsheds({removes:e})}_updateObserverFromFeature(e,i){const r=i.observerRenderSpace,o=i.targetRenderSpace,a=u(v(),r),d={observer:r,observerSurfaceNormal:null,observerAdjusted:a,observerFeatureId:t(i.feature),target:o,targetSurfaceNormal:null,targetAdjusted:u(v(),o),targetFeatureId:null};s(e,this._intersector,d,e=>Math.min(e,.05*i.farDistanceRenderSpace)),i.observerRenderSpaceOverride=m(a,r)?null:a}_unselectOtherViewsheds(e){if(null!=e)for(const t of this.view.tools.items)t!==this.tool&&t instanceof D&&(t.analysisViewData.selectedViewshed=null)}get test(){}};e([p({readOnly:!0})],A.prototype,\"type\",void 0),e([p({constructOnly:!0,nonNullable:!0})],A.prototype,\"analysis\",void 0),e([p()],A.prototype,\"tool\",void 0),e([p()],A.prototype,\"_selectedViewshed\",void 0),e([p()],A.prototype,\"selectedViewshed\",null),e([p()],A.prototype,\"selectedViewshedComputedData\",null),e([p()],A.prototype,\"viewshedComputedDataHandles\",void 0),e([p()],A.prototype,\"userOperation\",void 0),e([p()],A.prototype,\"_visualization\",void 0),e([p()],A.prototype,\"_viewshedRenderNode\",void 0),A=e([c(\"esri.views.3d.analysis.ViewshedAnalysisView3D\")],A);const N=A,z=_();export{N as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{deg2rad as o}from\"../../../../core/mathUtils.js\";const t=has(\"mac\")?\"Meta\":\"Control\",r=\"Shift\",s=2,a=1.15,c=1.15,m=2500,h=.02,e=Math.cos(o(45)),i=Math.cos(o(5)),f=.95,p=.3,M=2,j=1,l=3,n=11,x=22.5,C=40,S=48,U=2.25,b=4,d=1,g=.3,k=6,q=4,u=1600,v=.4;export{s as displayFocusMultiplier,t as forceHorizontalModifier,r as forceVerticalModifier,h as initialDepthOffsetFrac,v as initialPlaneHalfSizeViewProportion,u as planeMinBasisScreenLen2,j as planeOutlineWidth,M as planePreviewOutlineWidth,m as pointerMoveTimerMs,f as previewFadeDotThreshold,p as previewFadeDurationSeconds,k as resizeHandleCornerInputRadius,b as resizeHandleCornerWidth,q as resizeHandleEdgeInputRadius,g as resizeHandleEdgePaddingFrac,d as resizeHandleEdgeWidth,S as shiftRestartArrowLength,U as shiftRestartArrowOutlineWidth,C as shiftRestartOffsetDistance,c as shiftRestartTipFocusMultiplier,x as shiftRestartTipLength,n as shiftRestartTipRadius,a as shiftRestartTubeFocusMultiplier,l as shiftRestartTubeRadius,i as smallAngleDotThreshold,e as verticalDotThreshold};\n"],"names":["e","o","s","r","i","constructor","super","initialize","this","addHandles","analysisViewData","visible","t","deactivate","onDeactivate","created","analysis","clear","resetCreated","_set","m","interactive","f","view","n","tool","tools","add","v","p","remove","y","a","_a$abortOptions","userOperation","async","_a$shouldRejectOnCanc","promise","catch","abort","activeTool","c","_t$tool","active","u","signal","shouldRejectOnCancel","l","_a$onToolActivated","onToolActivated","call","aborted","abortOptions","finally","d","clone","placementOptions","valid","equals","x","arguments","shadowMap","depthTexture","nearFar","numActiveFaces","atlasRegions","targetVector","upVector","fovs","headingAndTilt","observerOffset","projectionMatrices","flat","viewMatrices","volumeOffset","V","fragment","include","uniforms","_e$depth","depth","attachment","camera","inverseProjectionMatrix","_ref","b","viewInverseTransposeMatrix","_e$shadowMap$nearFar","h","g","w","normals","constants","code","_templateObject","_taggedTemplateLiteral","main","_templateObject2","M","Object","freeze","defineProperty","__proto__","ViewshedPassParameters","build","Symbol","toStringTag","value","localOrigin","viewMatrix","observer","farDistance","heading","tilt","horizontalFieldOfView","verticalFieldOfView","feature","type","json","write","isRequired","prototype","Number","nonNullable","range","min","normalize","max","readOnly","read","layer","id","objectId","objectIdField","attributes","uid","concat","writer","_e$layer","layerId","target","String","origins","ObjectId","clonable","I","_R","_w","sceneIntersectionHelper","observerFeatureId","targetFeatureId","options","store","intersectToolIntersectorRay","F","N","R","results","all","distanceInRenderSpace","j","observerAdjusted","T","targetAdjusted","getIntersectionPoint","observerSurfaceNormal","getTransformedNormal","targetSurfaceNormal","Math","excludeLabels","parent","_userInteractive","_interactiveViewModelCount","updating","_this$parent","suspended","_overrideIfSome","forceInteractive","constructOnly","Boolean","intersect","intersectDraped","collisionRadius","fovUnfocusedArcWidth","fovFocusedArcWidth","scaleOrientSize","scaleOrientHandleRadius","scaleOrientMinDistance","scaleOrientArrowTipLength","scaleOrientArrowTipFocusMultiplier","observerSize","hoverTimeoutMilliseconds","viewAngleThreshold","getFovArcWidth","getScaleOrientArrowTipLength","frameWidthNotSelected","frameWidthSelected","frameColor","observerPointConfiguration","size","pixelSnappingEnabled","primitive","elevationInfo","mode","offset","outlineSize","color","toUnitRGBA","shapeMaterialParameters","renderOccluded","cullFace","writeDepth","tiltedUpVector","rightVector","observerRenderSpace","U","plane","S","D","renderCoordsHelper","toRenderCoords","position","direction","E","abs","next","targetRenderSpace","basis1","basis2","origin","acos","farDistanceRenderSpace","sin","renderStart","renderEnd","_objectSpread","action","deltaAngle","C","A","observerRenderSpaceOverride","needUpdateByFeature","_this$viewshed$observ","viewshed","effectiveObserverRenderSpace","_this$observerRenderS","effectiveObserver","renderSpaceToPoint","spatialReference","effectiveTargetRenderSpace","_computeTargetRenderSpace","metersPerUnit","tiltParallelToSurface","_pointToRenderSpace","targetDirection","leftVector","_basis","basisMatrixAtPosition","northVector","pointOnSphere","cornerPoints","topLeft","topRight","bottomLeft","bottomRight","arcCentersPoints","top","bottom","left","right","parallelCenterPoints","fromRenderCoords","toArray","_handles","_tool","_view","_focusedArcMaterial","_createArcMaterial","_unfocusedArcMaterial","_createManipulators","forEachManipulator","manipulators","destroy","_manipulators","createDragPipeline","values","map","manipulator","side","_ref6","_","L","B","G","manipulatorType","updateManipulatorsTransform","H","_forEachManipulatorInfo","_updateArcManipulatorTransform","updateManipulatorVisuals","_updateArcManipulatorVisuals","_ref2","length","undefined","cos","push","P","O","instantiate","material","collisionType","paths","renderObjects","radius","_ref3","renderLocation","k","z","modelTransform","_createArcManipulator","forEach","_ref4","metadata","pairedManipulator","autoScaleRenderObjects","worldSized","events","on","_r$metadata","hovering","grabbing","isDecoration","width","state","isGlobal","effectiveTheme","accentColor","setParameters","_ref5","test","PI","_setupManipulatorVisual","_createMaterial","transformation","_manipulatorHeading","_manipulatorTilt","_manipulatorDistance","createHeadingDragPipeline","createTiltDragPipeline","createDistanceDragPipeline","location","updateManipulators","_color","_moveManipulation","_observerManipulator","_fieldOfViewManipulation","_scaleOrientManipulation","_forceHoveringTask","_forceHoveringTestPromise","_grabbing","viewshedComputedData","_createMoveManipulation","parentTool","_this$viewshedCompute","_this$viewshedCompute2","angle","removeHandles","_buildObserverDragPipeline","_buildFOVDragPipeline","_buildScaleOrientDragPipeline","filter","viewshedCompData","hFOV","vFOV","_this$viewshedCompute3","_this$viewshedCompute4","selectedViewshedComputedData","fovManipulationAvailable","isPlacingTarget","nonFOVManipulationAvailable","creating","available","_forEachManipulator","_someManipulatorHovering","subToolHandles","subTool","_resetHoveringTask","_someManipulatorSelected","_this$_forceHoveringT","_updateManipulatorVisibility","_i$tool","updateInteractionVisualsVisibility","_setInteractive","hasManipulator","_i$tool2","_this$viewshedCompute5","_this$viewshed","discManipulator","xyManipulation","moveInteractionState","dragging","scaleOrientInteractionState","_forEachManipulation","onManipulatorSelectionChanged","selectedViewshed","selected","snapToScene","xyAvailable","xyAxisAvailable","zAvailable","steps","cancel","fromGeometry","viewingMode","operations","data","geometry","clamp","disableDisplay","moveManipulation","fieldOfViewManipulation","scaleOrientManipulation","setHoveringTimeoutPromise","W","removeIncompleteOnCancel","automaticManipulatorSelection","_stagedViewshed","_stagedViewshedComputedData","_placementMode","_creationState","_interactionVisualElements","_settings","getTheme","_selectedManipulator","_intersector","_createInteractionVisuals","viewshedComputedDataHandles","_valid","finishToolCreation","_this$_findSubTool","_findSubTool","viewsheds","item","firstGrabbedManipulator","_this$_selectedSubToo","_this$_findSubTool2","_selectManipulator","_selectedSubTool","_updateInteractionVisualsLocation","removeStaged","_this$analysisViewDat","_this$analysisViewDat2","some","cursor","_this$_findSubTool3","_this$_selectedSubToo2","_this$_selectedSubToo3","stagedViewshed","place","_finishToolCreationIfValid","onInputEvent","_doubleClickHandler","_pointerMoveHandler","key","_cancelKeyHandler","delete","includes","_deleteKeyHandler","onInputEventAfter","_clickPlacementHandler","onActivate","hasFocusedManipulators","_intersectScreen","_i$mapPoint$z","mapPoint","_updateStagedViewshed","scenePoint","stopPropagation","_onCancelWhileCreating","K","intersectToolIntersectorScreen","visualElements","attached","style","glowWidth","heightPlane","innerWidth","extensionType","zVerticalLine","writeDepthEnabled","laserline","verticalLine","apply","heightManifoldTarget","intersectsWorldUpAtLocation","setStartEndFromWorldDownAtLocation","_this$subToolHandles","find","_material","_viewshedComputedData","applyProperties","updateTransform","transform","createExternalResources","destroyExternalResources","forEachMaterial","createGeometries","ceil","addGeometry","isNaN","_viewshedCorners","_arcCenterPoints","_parallelCenters","stipplePattern","_observerVisualElement","_shapeVisualElement","_frameLinesVisualElement","_leftArcVisualElement","_rightArcVisualElement","_topArcVisualElement","_bottomArcVisualElement","_centralLongitude","_centralLatitude","corners","arcCenters","parallelCenters","_selected","_forEachVisualElement","_updateVisualElements","initial","recreateGeometry","staged","_staged","horFovNot360","_forEachLineVisualElement","_t$creating","observerVisible","_s$tool","_s$tool2","_updateFrameLines","_updateFrameArcs","_updateCentralHelperArcs","visualization","_subVisualizations","sectionAngles","sectionAnglesDeg","projectionMatrix","sectionMatrix","_projectionMatrixInternal","tan","fovX","fovY","_sectionRatioX","setViewport","viewport","textureSizeQuality","textureSizeModHighQuality","textureSizeModLowQuality","textureSizeMultiple","toleranceSides","toleranceBottomTop","textureSizeModifier","textureResizeModulo","_fbos","_faces","_width","_height","settings","_maxTextureSize","has","rctx","parameters","maxTextureSize","_this$_handle","_handle","getTexture","ready","faces","keys","height","viewshedProjectionMatrices","viewshedViewMatrices","_setupFaceCamera","center","eye","up","far","isActive","_computeActiveFaces","Set","_computeBaseTextureSize","pixelRatio","fullWidth","fullHeight","_ensureFBO","_this$_handle2","_s$depthStencilTextur","_s$depthStencilTextur2","_this$_handle3","fbo","depthStencilTexture","descriptor","internalFormat","DEPTH_COMPONENT16","release","_allocateFBO","_r$getTexture","acquire","setShadowFiltering","clearFBO","_this$_handle4","bindFramebuffer","setClearColor","dispose","_debugFBO","start","finish","initializePipeline","colorWrite","blending","_shadowMap","hasViewsheds","_viewsheds","_contentPixelRatio","contentPixelRatio","_viewshedsInView","items","frustum","intersectsSphere","_passParameters","consumes","required","VIEWSHED","produces","requireGeometryDepth","fboCache","resolutionScale","_this$_shadowMap","requestRender","precompile","techniques","_this$_shadowMap2","stage","renderer","precompileViewshedShadowMap","render","_this$_shadowMap3","_e$find","_this$shadowMap","bindParameters","renderingContext","name","decorations","get","compiled","isFeatureEnabled","_this$_shadowMap4","_renderShadowCubeMap","_setupViewshedParameters","bindTechnique","screen","draw","updateViewsheds","removes","adds","Array","isArray","removeMany","addMany","basemapTerrain","hasStencilEnabledExtents","renderViewshedShadowMap","_this$selectedViewshe","pixelSizeAt","viewshedsInView","_selectedViewshed","_viewshedRenderNode","_unselectOtherViewsheds","_this$tool","_isDecoration","_this$tool2","hud","_s$observer","canProject","_addViewshedsToRenderer","_removeViewshedsFromRenderer","getLogger","_createFeatureReferenceHandles","_visualization","slice","_updateObserverFromFeature","_createElevationUpdateHandle","pending","elevationProvider","extent","createViewsheds","q"],"ignoreList":[],"sourceRoot":""}