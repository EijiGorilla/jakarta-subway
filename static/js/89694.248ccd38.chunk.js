"use strict";(self.webpackChunkjakarta_subway=self.webpackChunkjakarta_subway||[]).push([[89694],{89694(t,s,r){r.r(s),r.d(s,{SplatSortWorkerInput:()=>e,SplatSortWorkerOutput:()=>n,destroy:()=>i,sort:()=>u});class e{constructor(t,s,r){let e=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.distances=t,this.sortOrderIndices=s,this.numGaussians=r,this.preciseSort=e}}class n{constructor(t,s){this.distances=t,this.sortedOrderIndices=s}}let a=null,o=null;function l(t,s){const r=t.length,e=Math.max(10,Math.min(20,Math.round(Math.log2(r/.25)))),n=1+(1<<e);!function(t,s){var r;(null===(r=a)||void 0===r?void 0:r.length)!==t&&(a=new Uint32Array(t)),o&&o.length===1+(1<<s)?o.fill(0):o=new Uint32Array(1+(1<<s))}(r,e);let l=t[0],u=t[0];for(let a=0;a<t.length;a++)l=Math.min(l,t[a]),u=Math.max(u,t[a]);const i=u-l;if(i<1e-6)for(let c=0;c<r;++c)a[c]=0,o[0]++;else{const s=(1<<e)/i;for(let e=0;e<r;e++){const r=(t[e]-l)*s>>>0;a[e]=r,o[r]++}}for(let a=1;a<n;a++)o[a]+=o[a-1];for(let c=0;c<r;c++){const t=a[c];s[--o[t]]=c}}async function u(t){const{distances:s,sortOrderIndices:r,preciseSort:e,numGaussians:a}=t,o=s.subarray(0,a),u=r.subarray(0,a);if(0===o.length||0===u.length)return{result:new n(s,r),transferList:[s.buffer,r.buffer]};if(e){const t=Array.from(u.keys());t.sort((t,s)=>o[t]-o[s]||t-s);const s=t.map(t=>u[t]);u.set(s)}else l(o,u);return{result:new n(s,r),transferList:[s.buffer,r.buffer]}}function i(){a=null,o=null}}}]);
//# sourceMappingURL=89694.248ccd38.chunk.js.map